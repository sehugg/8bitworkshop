{
  "version": 3,
  "sources": ["../src/platform/pce.ts"],
  "sourcesContent": ["import { DisasmLine, Platform, Preset, getToolForFilename_6502 } from \"../common/baseplatform\";\nimport { Keys, PLATFORMS, RasterVideo } from \"../common/emu\";\n\nconst PCE_PRESETS = [\n    { id: 'test_conio.c', name: 'Hello World (conio)' },\n    { id: 'siegegame.c', name: 'Siege Game (conio)' },\n    { id: 'hello.wiz', name: 'Hello World (Wiz)' },\n]\n\nclass PCEnginePlatform implements Platform {\n    mainElement: HTMLElement;\n    pce: PCE;\n    video: RasterVideo;\n\n    constructor(mainElement) {\n        this.mainElement = mainElement;\n    }\n    start(): void | Promise<void> {\n        this.pce = new PCE();\n        this.video = new RasterVideo(this.mainElement, 684, 262, { overscan: true, aspect: 4 / 3 });\n        this.video.create();\n        this.pce.SetCanvas(this.video.canvas);\n    }\n    reset(): void {\n        this.pce.Reset();\n    }\n    isRunning(): boolean {\n        return this.pce.TimerID != null;\n    }\n    pause(): void {\n        this.pce.Pause();\n    }\n    resume(): void {\n        this.pce.CreateAudioContext();\n        this.pce.Start();\n    }\n    getPresets(): Preset[] {\n        return PCE_PRESETS;\n    }\n    loadROM(title: string, rom: Uint8Array) {\n        this.pce.Pause();\n        this.pce.Init();\n        this.pce.SetROM(rom);\n    }\n    getPlatformName(): string {\n        return \"PC Engine\";\n    }\n    getToolForFilename(fn: string): string {\n        return getToolForFilename_6502(fn);\n    }\n    getDefaultExtension(): string {\n        return \".pce\";\n    }\n    readAddress(addr: number): number {\n        return this.pce.Get(addr);\n    }\n    writeAddress(addr: number, value: number): void {\n        this.pce.Set(addr, value);\n    }\n    readVRAMAddress(addr: number): number {\n        return this.pce.VDC[0].VRAM[addr];\n    }\n    // TODO\n    /*\n    disassemble(pc: number, read: (addr: number) => number): DisasmLine {\n        return disassembleHuC6280(pc, read(pc), read(pc + 1), read(pc + 2));\n    }\n    */\n}\n\nPLATFORMS['pce'] = PCEnginePlatform;\n\n/*\n\nhttps://github.com/yhzmr442/jspce\n\nMIT License\n\nCopyright (c) 2019 yhzmr442\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\nclass PCE {\n    SuperGrafx: boolean;\n    CountryTypePCE: number;\n    CountryTypeTG16: number;\n    CountryType: any;\n    GamePadButton6: boolean;\n    MultiTap: boolean;\n    TimerID: number | null; c\n    MainCanvas: HTMLCanvasElement | null = null;\n    Ctx: CanvasRenderingContext2D | null = null;\n    ImageData: ImageData | null = null;\n    DrawFlag: boolean;\n    Mapper: any;\n    OpCycles: number[];\n    OpBytes: number[];\n    A: number;\n    X: number;\n    Y: number;\n    PC: number;\n    S: number;\n    P: number;\n    NZCacheTable: Uint8Array;\n    NFlag: number;\n    VFlag: number;\n    TFlag: number;\n    BFlag: number;\n    DFlag: number;\n    IFlag: number;\n    ZFlag: number;\n    CFlag: number;\n    TIQFlag: number;\n    IRQ1Flag: number;\n    IRQ2Flag: number;\n    ProgressClock: number;\n    CPUBaseClock: number;\n    BaseClock1: number;\n    BaseClock3: number;\n    BaseClock5: number;\n    BaseClock7: number;\n    BaseClock10: number;\n    TransferSrc: number;\n    TransferDist: number;\n    TransferLen: number;\n    TransferAlt: number;\n    LastInt: number;\n    MPRSelect: any;\n    MPR: any;\n    RAM: Uint8Array;\n    RAMMask: number;\n    BRAM: Uint8Array;\n    BRAMUse: boolean;\n    INTIRQ2: number;\n    IntDisableRegister: number;\n    MapperBase = class {\n        ROM: number[];\n        Core: any;\n        constructor(rom, core) {\n            this.ROM = rom;\n            this.Core = core;\n        }\n\n        Init() {\n        }\n\n        Read(address) {\n            return 0xFF;\n        }\n\n        Write(address, data) {\n        }\n    };\n    Mapper0: typeof this.MapperBase;\n    Mapper1: typeof this.MapperBase;\n    Mapper2: typeof this.MapperBase;\n    VDC: any[];\n    INTTIQ: number;\n    Palette: any[];\n    PaletteData: any[];\n    MonoPaletteData: any[];\n    VCEBaseClock: number;\n    VCEControl: number;\n    VCEAddress: number;\n    VCEData: number;\n    VPCRegister: Uint8Array;\n    VPCWindow1: number;\n    VPCWindow2: number;\n    VPCPriority: Uint8Array;\n    VDCPutLineProgressClock: number;\n    VDCPutLine: number;\n    VDCLineClock: number;\n    ScreenSize: any[];\n    PutScreenSize: any[];\n    VScreenWidthArray: any[];\n    ReverseBit: Uint8Array;\n    ReverseBit16: Uint16Array;\n    ReverseBit256: Uint32Array;\n    SPAddressMask: any[];\n    WaveDataArray: any[];\n    WaveClockCounter: number;\n    WaveVolume: number;\n    WebAudioCtx: AudioContext;\n    WebAudioJsNode: any;\n    WebAudioGainNode: any;\n    WebAudioBufferSize: number;\n    PSGClock: number;\n    WaveLfoOn: any;\n    PSGChannel: any;\n    WaveVolumeLeft: any;\n    WaveVolumeRight: any;\n    PSGBaseClock: any;\n    PSGProgressClock: number;\n    WaveLfoControl: number;\n    WaveLfoFreqency: number;\n    TimerBaseClock: any;\n    TimerReload: number;\n    TimerFlag: boolean;\n    TimerCounter: number;\n    TimerPrescaler: number;\n    JoystickSEL: number;\n    JoystickCLR: number;\n    KeyUpFunction: null;\n    KeyDownFunction: null;\n    Keybord: any[];\n    GamePad: any[];\n    GamePadSelect: number;\n    GamePadButtonSelect: number;\n    GamePadBuffer: number;\n    GamePadData: any[];\n    GamePadKeyData: { index: number; data: number; }[];\n    GamePadPovData: number[];\n    VDCSelect: number = 0;\n    ScreenWidthMAX = 0;\n    ScreenHeightMAX = 0;\n\n    constructor() {\n        /* ***************** */\n        /* **** Setting **** */\n        /* ***************** */\n        this.SuperGrafx = false;\n        this.CountryTypePCE = 0x40;\n        this.CountryTypeTG16 = 0x00;\n        this.CountryType = this.CountryTypePCE;\n        this.GamePadButton6 = false;\n        this.MultiTap = false;\n\n        /* ******************* */\n        /* **** Construct **** */\n        /* ******************* */\n        this.EtcConstruct();\n        this.CPUConstruct();\n        this.StorageConstruct();\n        this.VCEConstruct();\n        this.VPCConstruct();\n        this.VDCConstruct();\n        this.SoundConstruct();\n        this.PSGConstruct();\n        this.TimerConstruct();\n        this.JoystickConstruct();\n    }\n\n\n    /* ************* */\n    /* **** ETC **** */\n    /* ************* */\n    EtcConstruct() {\n        this.TimerID = null;\n        this.MainCanvas = null;\n        this.Ctx = null;\n        this.ImageData = null;\n    }\n\n\n    UpdateAnimationFrame() {\n        this.TimerID = window.requestAnimationFrame(this.UpdateAnimationFrame.bind(this));\n        this.Run();\n    }\n\n\n    CancelAnimationFrame() {\n        window.cancelAnimationFrame(this.TimerID);\n        this.TimerID = null;\n    }\n\n\n    Pause() {\n        if (this.TimerID != null) {\n            this.JoystickEventRelease();\n            this.CancelAnimationFrame();\n        }\n    }\n\n\n    Start() {\n        if (this.TimerID == null) {\n            this.JoystickEventInit();\n            this.UpdateAnimationFrame();\n        }\n    }\n\n\n    Run() {\n        this.CheckGamePad();\n        this.DrawFlag = false;\n        while (!this.DrawFlag) {\n            this.CPURun();\n            this.VDCRun();\n            this.TimerRun();\n            this.PSGRun();\n        }\n    }\n\n\n    Reset() {\n        this.StorageReset();\n        this.Mapper.Init();\n        this.CPUInit();\n        this.VCEInit();\n        this.VPCInit();\n        this.VDCInit();\n        this.TimerInit();\n        this.JoystickInit();\n        this.PSGInit();\n        this.CPUReset();\n    }\n\n\n    Init() {\n        this.StorageInit();\n        this.CPUInit();\n        this.VCEInit();\n        this.VPCInit();\n        this.VDCInit();\n        this.TimerInit();\n        this.JoystickInit();\n        this.PSGInit();\n    }\n\n\n    SetCanvas(canvas: HTMLCanvasElement) {\n        this.MainCanvas = canvas;\n        if (!this.MainCanvas.getContext)\n            return false;\n\n        this.Ctx = this.MainCanvas.getContext(\"2d\");\n        this.ImageData = this.Ctx.createImageData(this.MainCanvas.width, this.MainCanvas.height); // this.ScreenWidthMAX, this.ScreenHeightMAX);\n        for (let i = 0; i < this.MainCanvas.width * this.MainCanvas.height * 4; i += 4) {\n            this.ImageData.data[i] = 0;\n            this.ImageData.data[i + 1] = 0;\n            this.ImageData.data[i + 2] = 0;\n            this.ImageData.data[i + 3] = 255;\n        }\n        this.Ctx.putImageData(this.ImageData, 0, 0);\n\n        return true;\n    }\n\n    /* ************* */\n    /* **** CPU **** */\n    /* ************* */\n    CPUConstruct() {\n        this.OpCycles = [\n            8, 7, 3, 4, 6, 4, 6, 7, 3, 2, 2, 2, 7, 5, 7, 6,// 0x00\n            2, 7, 7, 4, 6, 4, 6, 7, 2, 5, 2, 2, 7, 5, 7, 6,// 0x10\n            7, 7, 3, 4, 4, 4, 6, 7, 3, 2, 2, 2, 5, 5, 7, 6,// 0x20\n            2, 7, 7, 2, 4, 4, 6, 7, 2, 5, 2, 2, 5, 5, 7, 6,// 0x30\n            7, 7, 3, 4, 8, 4, 6, 7, 3, 2, 2, 2, 4, 5, 7, 6,// 0x40\n            2, 7, 7, 5, 2, 4, 6, 7, 2, 5, 3, 2, 2, 5, 7, 6,// 0x50\n            7, 7, 2, 2, 4, 4, 6, 7, 3, 2, 2, 2, 7, 5, 7, 6,// 0x60\n            2, 7, 7, 0, 4, 4, 6, 7, 2, 5, 3, 2, 7, 5, 7, 6,// 0x70\n            4, 7, 2, 7, 4, 4, 4, 7, 2, 2, 2, 2, 5, 5, 5, 6,// 0x80\n            2, 7, 7, 8, 4, 4, 4, 7, 2, 5, 2, 2, 5, 5, 5, 6,// 0x90\n            2, 7, 2, 7, 4, 4, 4, 7, 2, 2, 2, 2, 5, 5, 5, 6,// 0xA0\n            2, 7, 7, 8, 4, 4, 4, 7, 2, 5, 2, 2, 5, 5, 5, 6,// 0xB0\n            2, 7, 2, 0, 4, 4, 6, 7, 2, 2, 2, 2, 5, 5, 7, 6,// 0xC0\n            2, 7, 7, 0, 2, 4, 6, 7, 2, 5, 3, 2, 2, 5, 7, 6,// 0xD0\n            2, 7, 2, 0, 4, 4, 6, 7, 2, 2, 2, 2, 5, 5, 7, 6,// 0xE0\n            2, 7, 7, 0, 2, 4, 6, 7, 2, 5, 3, 2, 2, 5, 7, 6];//0xF0\n\n        this.OpBytes = [\n            0, 2, 1, 2, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 0,// 0x00\n            0, 2, 2, 2, 2, 2, 2, 2, 1, 3, 1, 1, 3, 3, 3, 0,// 0x10\n            0, 2, 1, 2, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 0,// 0x20\n            0, 2, 2, 1, 2, 2, 2, 2, 1, 3, 1, 1, 3, 3, 3, 0,// 0x30\n            0, 2, 1, 2, 0, 2, 2, 2, 1, 2, 1, 1, 0, 3, 3, 0,// 0x40\n            0, 2, 2, 2, 1, 2, 2, 2, 1, 3, 1, 1, 1, 3, 3, 0,// 0x50\n            0, 2, 1, 1, 2, 2, 2, 2, 1, 2, 1, 1, 0, 3, 3, 0,// 0x60\n            0, 2, 2, 0, 2, 2, 2, 2, 1, 3, 1, 1, 0, 3, 3, 0,// 0x70\n            0, 2, 1, 3, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 0,// 0x80\n            0, 2, 2, 4, 2, 2, 2, 2, 1, 3, 1, 1, 3, 3, 3, 0,// 0x90\n            2, 2, 2, 3, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 0,// 0xA0\n            0, 2, 2, 4, 2, 2, 2, 2, 1, 3, 1, 1, 3, 3, 3, 0,// 0xB0\n            2, 2, 1, 0, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 0,// 0xC0\n            0, 2, 2, 0, 1, 2, 2, 2, 1, 3, 1, 1, 1, 3, 3, 0,// 0xD0\n            2, 2, 1, 0, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 0,// 0xE0\n            0, 2, 2, 0, 1, 2, 2, 2, 1, 3, 1, 1, 1, 3, 3, 0];//0xF0\n\n        this.A = 0;\n        this.X = 0;\n        this.Y = 0;\n        this.PC = 0;\n        this.S = 0;\n        this.P = 0;\n\n        this.NZCacheTable = new Uint8Array(0x100);\n        this.NZCacheTable = this.NZCacheTable.map((d, i) => { return i & 0x80; });\n        this.NZCacheTable[0x00] = 0x02;\n\n        this.NFlag = 0x80;\n        this.VFlag = 0x40;\n        this.TFlag = 0x20;\n        this.BFlag = 0x10;\n        this.DFlag = 0x08;\n        this.IFlag = 0x04;\n        this.ZFlag = 0x02;\n        this.CFlag = 0x01;\n\n        this.TIQFlag = 0x04;\n        this.IRQ1Flag = 0x02;\n        this.IRQ2Flag = 0x01;\n\n        this.ProgressClock = 0;\n        this.CPUBaseClock = 0;\n\n        this.BaseClock1 = 12;\n        this.BaseClock3 = 6;\n        this.BaseClock5 = 4;\n        this.BaseClock7 = 3;\n        this.BaseClock10 = 2;\n\n        this.TransferSrc = 0;\n        this.TransferDist = 0;\n        this.TransferLen = 0;\n        this.TransferAlt = 0;\n    }\n\n\n    CPUReset() {\n        this.TransferSrc = 0;\n        this.TransferDist = 0;\n        this.TransferLen = 0;\n        this.TransferAlt = 0;\n\n        this.CPUBaseClock = this.BaseClock1;\n\n        this.SetIFlag();\n        this.PC = this.Get16(0xFFFE);\n    }\n\n\n    CPUInit() {\n        this.A = 0;\n        this.X = 0;\n        this.Y = 0;\n        this.PC = 0;\n        this.S = 0;\n        this.P = 0x00;\n\n        this.ProgressClock = 0;\n        this.CPUBaseClock = this.BaseClock1;\n\n        this.TransferSrc = 0;\n        this.TransferDist = 0;\n        this.TransferLen = 0;\n        this.TransferAlt = 0;\n\n        this.LastInt = 0x00;\n    }\n\n\n    CPURun() {\n        this.ProgressClock = 0;\n\n        let tmp = this.LastInt;\n        this.LastInt = (this.P & this.IFlag) == 0x00 ? this.GetIntStatus() : 0x00;\n\n        if (tmp != 0x00 && this.TransferLen == 0) {\n            this.LastInt = 0x00;\n\n            if ((tmp & this.TIQFlag) == this.TIQFlag) {//TIQ\n                this.Push(this.PCH());\n                this.Push(this.PCL());\n                this.Push(this.P);\n                this.P = 0x04;\n                this.PC = this.Get16(0xFFFA);\n            } else if ((tmp & this.IRQ1Flag) == this.IRQ1Flag) {//IRQ1\n                this.Push(this.PCH());\n                this.Push(this.PCL());\n                this.Push(this.P);\n                this.P = 0x04;\n                this.PC = this.Get16(0xFFF8);\n            } else if ((tmp & this.IRQ2Flag) == this.IRQ2Flag) {//IRQ2\n                this.Push(this.PCH());\n                this.Push(this.PCL());\n                this.Push(this.P);\n                this.SetIFlag();\n                this.PC = this.Get16(0xFFF6);\n            }\n            this.ProgressClock = 8 * this.CPUBaseClock;\n        } else\n            this.OpExec();\n    }\n\n\n    OpExec() {\n        let address;\n        let tmp;\n        let data;\n        let bit;\n        let i;\n\n        let op = this.Get(this.PC);\n\n        switch (op) {\n            case 0x69: // ADC IMM\n                this.ADC(this.PC + 1);\n                break;\n            case 0x65: // ADC ZP\n                this.ADC(this.ZP());\n                break;\n            case 0x75: // ADC ZP, X\n                this.ADC(this.ZP_X());\n                break;\n            case 0x72: // ADC (IND)\n                this.ADC(this.IND());\n                break;\n            case 0x61: // ADC (IND, X)\n                this.ADC(this.IND_X());\n                break;\n            case 0x71: // ADC (IND), Y\n                this.ADC(this.IND_Y());\n                break;\n            case 0x6D: // ADC ABS\n                this.ADC(this.ABS());\n                break;\n            case 0x7D: // ADC ABS, X\n                this.ADC(this.ABS_X());\n                break;\n            case 0x79: // ADC ABS, Y\n                this.ADC(this.ABS_Y());\n                break;\n\n            case 0xE9: // SBC IMM\n                this.SBC(this.PC + 1);\n                break;\n            case 0xE5: // SBC ZP\n                this.SBC(this.ZP());\n                break;\n            case 0xF5: // SBC ZP, X\n                this.SBC(this.ZP_X());\n                break;\n            case 0xF2: // SBC (IND)\n                this.SBC(this.IND());\n                break;\n            case 0xE1: // SBC (IND, X)\n                this.SBC(this.IND_X());\n                break;\n            case 0xF1: // SBC (IND), Y\n                this.SBC(this.IND_Y());\n                break;\n            case 0xED: // SBC ABS\n                this.SBC(this.ABS());\n                break;\n            case 0xFD: // SBC ABS, X\n                this.SBC(this.ABS_X());\n                break;\n            case 0xF9: // SBC ABS, Y\n                this.SBC(this.ABS_Y());\n                break;\n\n            case 0x29: // AND IMM\n                this.AND(this.PC + 1);\n                break;\n            case 0x25: // AND ZP\n                this.AND(this.ZP());\n                break;\n            case 0x35: // AND ZP, X\n                this.AND(this.ZP_X());\n                break;\n            case 0x32: // AND (IND)\n                this.AND(this.IND());\n                break;\n            case 0x21: // AND (IND, X)\n                this.AND(this.IND_X());\n                break;\n            case 0x31: // AND (IND), Y\n                this.AND(this.IND_Y());\n                break;\n            case 0x2D: // AND ABS\n                this.AND(this.ABS());\n                break;\n            case 0x3D: // AND ABS, X\n                this.AND(this.ABS_X());\n                break;\n            case 0x39: // AND ABS, Y\n                this.AND(this.ABS_Y());\n                break;\n\n            case 0x49: // EOR IMM\n                this.EOR(this.PC + 1);\n                break;\n            case 0x45: // EOR ZP\n                this.EOR(this.ZP());\n                break;\n            case 0x55: // EOR ZP, X\n                this.EOR(this.ZP_X());\n                break;\n            case 0x52: // EOR (IND)\n                this.EOR(this.IND());\n                break;\n            case 0x41: // EOR (IND, X)\n                this.EOR(this.IND_X());\n                break;\n            case 0x51: // EOR (IND), Y\n                this.EOR(this.IND_Y());\n                break;\n            case 0x4D: // EOR ABS\n                this.EOR(this.ABS());\n                break;\n            case 0x5D: // EOR ABS, X\n                this.EOR(this.ABS_X());\n                break;\n            case 0x59: // EOR ABS, Y\n                this.EOR(this.ABS_Y());\n                break;\n\n            case 0x09: // ORA IMM\n                this.ORA(this.PC + 1);\n                break;\n            case 0x05: // ORA ZP\n                this.ORA(this.ZP());\n                break;\n            case 0x15: // ORA ZP, X\n                this.ORA(this.ZP_X());\n                break;\n            case 0x12: // ORA (IND)\n                this.ORA(this.IND());\n                break;\n            case 0x01: // ORA (IND, X)\n                this.ORA(this.IND_X());\n                break;\n            case 0x11: // ORA (IND), Y\n                this.ORA(this.IND_Y());\n                break;\n            case 0x0D: // ORA ABS\n                this.ORA(this.ABS());\n                break;\n            case 0x1D: // ORA ABS, X\n                this.ORA(this.ABS_X());\n                break;\n            case 0x19: // ORA ABS, Y\n                this.ORA(this.ABS_Y());\n                break;\n\n            case 0x06: // ASL ZP\n                address = this.ZP();\n                this.Set(address, this.ASL(this.Get(address)));\n                break;\n            case 0x16: // ASL ZP, X\n                address = this.ZP_X();\n                this.Set(address, this.ASL(this.Get(address)));\n                break;\n            case 0x0E: // ASL ABS\n                address = this.ABS();\n                this.Set(address, this.ASL(this.Get(address)));\n                break;\n            case 0x1E: // ASL ABS, X\n                address = this.ABS_X();\n                this.Set(address, this.ASL(this.Get(address)));\n                break;\n            case 0x0A: // ASL A\n                this.A = this.ASL(this.A);\n                break;\n\n            case 0x46: // LSR ZP\n                address = this.ZP();\n                this.Set(address, this.LSR(this.Get(address)));\n                break;\n            case 0x56: // LSR ZP, X\n                address = this.ZP_X();\n                this.Set(address, this.LSR(this.Get(address)));\n                break;\n            case 0x4E: // LSR ABS\n                address = this.ABS();\n                this.Set(address, this.LSR(this.Get(address)));\n                break;\n            case 0x5E: // LSR ABS, X\n                address = this.ABS_X();\n                this.Set(address, this.LSR(this.Get(address)));\n                break;\n            case 0x4A: // LSR A\n                this.A = this.LSR(this.A);\n                break;\n\n            case 0x26: // ROL ZP\n                address = this.ZP();\n                this.Set(address, this.ROL(this.Get(address)));\n                break;\n            case 0x36: // ROL ZP, X\n                address = this.ZP_X();\n                this.Set(address, this.ROL(this.Get(address)));\n                break;\n            case 0x2E: // ROL ABS\n                address = this.ABS();\n                this.Set(address, this.ROL(this.Get(address)));\n                break;\n            case 0x3E: // ROL ABS, X\n                address = this.ABS_X();\n                this.Set(address, this.ROL(this.Get(address)));\n                break;\n            case 0x2A: // ROL A\n                this.A = this.ROL(this.A);\n                break;\n\n            case 0x66: // ROR ZP\n                address = this.ZP();\n                this.Set(address, this.ROR(this.Get(address)));\n                break;\n            case 0x76: // ROR ZP, X\n                address = this.ZP_X();\n                this.Set(address, this.ROR(this.Get(address)));\n                break;\n            case 0x6E: // ROR ABS\n                address = this.ABS();\n                this.Set(address, this.ROR(this.Get(address)));\n                break;\n            case 0x7E: // ROR ABS, X\n                address = this.ABS_X();\n                this.Set(address, this.ROR(this.Get(address)));\n                break;\n            case 0x6A: // ROR A\n                this.A = this.ROR(this.A);\n                break;\n\n            case 0x0F: // BBR0\n                this.BBRi(0);\n                break;\n            case 0x1F: // BBR1\n                this.BBRi(1);\n                break;\n            case 0x2F: // BBR2\n                this.BBRi(2);\n                break;\n            case 0x3F: // BBR3\n                this.BBRi(3);\n                break;\n            case 0x4F: // BBR4\n                this.BBRi(4);\n                break;\n            case 0x5F: // BBR5\n                this.BBRi(5);\n                break;\n            case 0x6F: // BBR6\n                this.BBRi(6);\n                break;\n            case 0x7F: // BBR7\n                this.BBRi(7);\n                break;\n\n            case 0x8F: // BBS0\n                this.BBSi(0);\n                break;\n            case 0x9F: // BBS1\n                this.BBSi(1);\n                break;\n            case 0xAF: // BBS2\n                this.BBSi(2);\n                break;\n            case 0xBF: // BBS3\n                this.BBSi(3);\n                break;\n            case 0xCF: // BBS4\n                this.BBSi(4);\n                break;\n            case 0xDF: // BBS5\n                this.BBSi(5);\n                break;\n            case 0xEF: // BBS6\n                this.BBSi(6);\n                break;\n            case 0xFF: // BBS7\n                this.BBSi(7);\n                break;\n\n            case 0x90: // BCC\n                this.Branch((this.P & this.CFlag) == 0x00, 1);\n                break;\n            case 0xB0: // BCS\n                this.Branch((this.P & this.CFlag) == this.CFlag, 1);\n                break;\n            case 0xD0: // BNE\n                this.Branch((this.P & this.ZFlag) == 0x00, 1);\n                break;\n            case 0xF0: // BEQ\n                this.Branch((this.P & this.ZFlag) == this.ZFlag, 1);\n                break;\n            case 0x10: // BPL\n                this.Branch((this.P & this.NFlag) == 0x00, 1);\n                break;\n            case 0x30: // BMI\n                this.Branch((this.P & this.NFlag) == this.NFlag, 1);\n                break;\n            case 0x50: // BVC\n                this.Branch((this.P & this.VFlag) == 0x00, 1);\n                break;\n            case 0x70: // BVS\n                this.Branch((this.P & this.VFlag) == this.VFlag, 1);\n                break;\n            case 0x80: // BRA\n                this.Branch(true, 1);\n                break;\n\n            case 0x44: // BSR\n                this.PC++;\n                this.Push(this.PCH());\n                this.Push(this.PCL());\n                this.Branch(true, 0);\n                break;\n            case 0x20: // JSR ABS\n                tmp = this.ABS();\n                this.PC += 2;\n                this.Push(this.PCH());\n                this.Push(this.PCL());\n                this.PC = tmp;\n                this.ClearTFlag();\n                break;\n\n            case 0x40: // RTI\n                this.P = this.Pull();\n                this.toPCL(this.Pull());\n                this.toPCH(this.Pull());\n                break;\n            case 0x60: // RTS\n                this.ClearTFlag();\n                this.toPCL(this.Pull());\n                this.toPCH(this.Pull());\n                this.PC++;\n                break;\n\n            case 0x4C: // JMP ABS\n                this.PC = this.ABS();\n                this.ClearTFlag();\n                break;\n            case 0x6C: // JMP (ABS)\n                this.PC = this.ABS_IND();\n                this.ClearTFlag();\n                break;\n            case 0x7C: // JMP (ABS, X)\n                this.PC = this.ABS_X_IND();\n                this.ClearTFlag();\n                break;\n\n            case 0x00: // BRK\n                this.PC += 2;\n                this.Push(this.PCH());\n                this.Push(this.PCL());\n                this.SetBFlag();\n                this.Push(this.P);\n                this.ClearDFlag();\n                this.ClearTFlag();\n                this.SetIFlag();\n                this.PC = this.Get16(0xFFF6);\n                break;\n\n            case 0x62: // CLA\n                this.A = 0x00;\n                this.ClearTFlag();\n                break;\n            case 0x82: // CLX\n                this.X = 0x00;\n                this.ClearTFlag();\n                break;\n            case 0xC2: // CLY\n                this.Y = 0x00;\n                this.ClearTFlag();\n                break;\n\n            case 0x18: // CLC\n                this.ClearCFlag();\n                this.ClearTFlag();\n                break;\n            case 0xD8: // CLD\n                this.ClearDFlag();\n                this.ClearTFlag();\n                break;\n            case 0x58: // CLI\n                this.ClearIFlag();\n                this.ClearTFlag();\n                break;\n            case 0xB8: // CLV\n                this.ClearVFlag();\n                this.ClearTFlag();\n                break;\n\n            case 0x38: // SEC\n                this.SetCFlag();\n                this.ClearTFlag();\n                break;\n            case 0xF8: // SED\n                this.SetDFlag();\n                this.ClearTFlag();\n                break;\n            case 0x78: // SEI\n                this.SetIFlag();\n                this.ClearTFlag();\n                break;\n            case 0xF4: // SET\n                this.SetTFlag();\n                break;\n\n            case 0xC9: // CMP IMM\n                this.Compare(this.A, this.PC + 1);\n                break;\n            case 0xC5: // CMP ZP\n                this.Compare(this.A, this.ZP());\n                break;\n            case 0xD5: // CMP ZP, X\n                this.Compare(this.A, this.ZP_X());\n                break;\n            case 0xD2: // CMP (IND)\n                this.Compare(this.A, this.IND());\n                break;\n            case 0xC1: // CMP (IND, X)\n                this.Compare(this.A, this.IND_X());\n                break;\n            case 0xD1: // CMP (IND), Y\n                this.Compare(this.A, this.IND_Y());\n                break;\n            case 0xCD: // CMP ABS\n                this.Compare(this.A, this.ABS());\n                break;\n            case 0xDD: // CMP ABS, X\n                this.Compare(this.A, this.ABS_X());\n                break;\n            case 0xD9: // CMP ABS, Y\n                this.Compare(this.A, this.ABS_Y());\n                break;\n            case 0xE0: // CPX IMM\n                this.Compare(this.X, this.PC + 1);\n                break;\n            case 0xE4: // CPX ZP\n                this.Compare(this.X, this.ZP());\n                break;\n            case 0xEC: // CPX ABS\n                this.Compare(this.X, this.ABS());\n                break;\n            case 0xC0: // CPY IMM\n                this.Compare(this.Y, this.PC + 1);\n                break;\n            case 0xC4: // CPY ZP\n                this.Compare(this.Y, this.ZP());\n                break;\n            case 0xCC: // CPY ABS\n                this.Compare(this.Y, this.ABS());\n                break;\n\n            case 0xC6: // DEC ZP\n                address = this.ZP();\n                this.Set(address, this.Decrement(this.Get(address)));\n                break;\n            case 0xD6: // DEC ZP, X\n                address = this.ZP_X();\n                this.Set(address, this.Decrement(this.Get(address)));\n                break;\n            case 0xCE: // DEC ABS\n                address = this.ABS();\n                this.Set(address, this.Decrement(this.Get(address)));\n                break;\n            case 0xDE: // DEC ABS, X\n                address = this.ABS_X();\n                this.Set(address, this.Decrement(this.Get(address)));\n                break;\n            case 0x3A: // DEC A\n                this.A = this.Decrement(this.A);\n                break;\n            case 0xCA: // DEX\n                this.X = this.Decrement(this.X);\n                break;\n            case 0x88: // DEY\n                this.Y = this.Decrement(this.Y);\n                break;\n\n            case 0xE6: // INC ZP\n                address = this.ZP();\n                this.Set(address, this.Increment(this.Get(address)));\n                break;\n            case 0xF6: // INC ZP, X\n                address = this.ZP_X();\n                this.Set(address, this.Increment(this.Get(address)));\n                break;\n            case 0xEE: // INC ABS\n                address = this.ABS();\n                this.Set(address, this.Increment(this.Get(address)));\n                break;\n            case 0xFE: // INC ABS, X\n                address = this.ABS_X();\n                this.Set(address, this.Increment(this.Get(address)));\n                break;\n            case 0x1A: // INC A\n                this.A = this.Increment(this.A);\n                break;\n            case 0xE8: // INX\n                this.X = this.Increment(this.X);\n                break;\n            case 0xC8: // INY\n                this.Y = this.Increment(this.Y);\n                break;\n\n            case 0x48: // PHA\n                this.Push(this.A);\n                this.ClearTFlag();\n                break;\n            case 0x08: // PHP\n                this.Push(this.P);\n                this.ClearTFlag();\n                break;\n            case 0xDA: // PHX\n                this.Push(this.X);\n                this.ClearTFlag();\n                break;\n            case 0x5A: // PHY\n                this.Push(this.Y);\n                this.ClearTFlag();\n                break;\n\n            case 0x68: // PLA\n                this.A = this.Pull();\n                this.SetNZFlag(this.A);\n                this.ClearTFlag();\n                break;\n            case 0x28: // PLP\n                this.P = this.Pull();\n                break;\n            case 0xFA: // PLX\n                this.X = this.Pull();\n                this.SetNZFlag(this.X);\n                this.ClearTFlag();\n                break;\n            case 0x7A: // PLY\n                this.Y = this.Pull();\n                this.SetNZFlag(this.Y);\n                this.ClearTFlag();\n                break;\n\n            case 0x07: // RMB0\n                this.RMBi(0);\n                break;\n            case 0x17: // RMB1\n                this.RMBi(1);\n                break;\n            case 0x27: // RMB2\n                this.RMBi(2);\n                break;\n            case 0x37: // RMB3\n                this.RMBi(3);\n                break;\n            case 0x47: // RMB4\n                this.RMBi(4);\n                break;\n            case 0x57: // RMB5\n                this.RMBi(5);\n                break;\n            case 0x67: // RMB6\n                this.RMBi(6);\n                break;\n            case 0x77: // RMB7\n                this.RMBi(7);\n                break;\n\n            case 0x87: // SMB0\n                this.SMBi(0);\n                break;\n            case 0x97: // SMB1\n                this.SMBi(1);\n                break;\n            case 0xA7: // SMB2\n                this.SMBi(2);\n                break;\n            case 0xB7: // SMB3\n                this.SMBi(3);\n                break;\n            case 0xC7: // SMB4\n                this.SMBi(4);\n                break;\n            case 0xD7: // SMB5\n                this.SMBi(5);\n                break;\n            case 0xE7: // SMB6\n                this.SMBi(6);\n                break;\n            case 0xF7: // SMB7\n                this.SMBi(7);\n                break;\n\n            case 0x22: // SAX\n                tmp = this.A;\n                this.A = this.X;\n                this.X = tmp;\n                this.ClearTFlag();\n                break;\n            case 0x42: // SAY\n                tmp = this.A;\n                this.A = this.Y;\n                this.Y = tmp;\n                this.ClearTFlag();\n                break;\n            case 0x02: // SXY\n                tmp = this.X;\n                this.X = this.Y;\n                this.Y = tmp;\n                this.ClearTFlag();\n                break;\n\n            case 0xAA: // TAX\n                this.X = this.A;\n                this.SetNZFlag(this.X);\n                this.ClearTFlag();\n                break;\n            case 0xA8: // TAY\n                this.Y = this.A;\n                this.SetNZFlag(this.Y);\n                this.ClearTFlag();\n                break;\n            case 0xBA: // TSX\n                this.X = this.S;\n                this.SetNZFlag(this.X);\n                this.ClearTFlag();\n                break;\n            case 0x8A: // TXA\n                this.A = this.X;\n                this.SetNZFlag(this.A);\n                this.ClearTFlag();\n                break;\n            case 0x9A: // TXS\n                this.S = this.X;\n                this.ClearTFlag();\n                break;\n            case 0x98: // TYA\n                this.A = this.Y;\n                this.SetNZFlag(this.A);\n                this.ClearTFlag();\n                break;\n\n            case 0x89: // BIT IMM\n                this.BIT(this.PC + 1);\n                break;\n            case 0x24: // BIT ZP\n                this.BIT(this.ZP());\n                break;\n            case 0x34: // BIT ZP, X\n                this.BIT(this.ZP_X());\n                break;\n            case 0x2C: // BIT ABS\n                this.BIT(this.ABS());\n                break;\n            case 0x3C: // BIT ABS, X\n                this.BIT(this.ABS_X());\n                break;\n\n            case 0x83: // TST IMM ZP\n                this.TST(this.PC + 1, 0x2000 | this.Get(this.PC + 2));\n                break;\n            case 0xA3: // TST IMM ZP, X\n                this.TST(this.PC + 1, 0x2000 | ((this.Get(this.PC + 2) + this.X) & 0xFF));\n                break;\n            case 0x93: // TST IMM ABS\n                this.TST(this.PC + 1, this.Get16(this.PC + 2));\n                break;\n            case 0xB3: // TST IMM ABS, X\n                this.TST(this.PC + 1, (this.Get16(this.PC + 2) + this.X) & 0xFFFF);\n                break;\n\n            case 0x14: // TRB ZP\n                this.TRB(this.ZP())\n                break;\n            case 0x1C: // TRB ABS\n                this.TRB(this.ABS())\n                break;\n\n            case 0x04: // TSB ZP\n                this.TSB(this.ZP())\n                break;\n            case 0x0C: // TSB ABS\n                this.TSB(this.ABS())\n                break;\n\n            case 0xA9: // LDA IMM\n                this.A = this.Load(this.PC + 1);\n                break;\n            case 0xA5: // LDA ZP\n                this.A = this.Load(this.ZP());\n                break;\n            case 0xB5: // LDA ZP, X\n                this.A = this.Load(this.ZP_X());\n                break;\n            case 0xB2: // LDA (IND)\n                this.A = this.Load(this.IND());\n                break;\n            case 0xA1: // LDA (IND, X)\n                this.A = this.Load(this.IND_X());\n                break;\n            case 0xB1: // LDA (IND), Y\n                this.A = this.Load(this.IND_Y());\n                break;\n            case 0xAD: // LDA ABS\n                this.A = this.Load(this.ABS());\n                break;\n            case 0xBD: // LDA ABS, X\n                this.A = this.Load(this.ABS_X());\n                break;\n            case 0xB9: // LDA ABS, Y\n                this.A = this.Load(this.ABS_Y());\n                break;\n            case 0xA2: // LDX IMM\n                this.X = this.Load(this.PC + 1);\n                break;\n            case 0xA6: // LDX ZP\n                this.X = this.Load(this.ZP());\n                break;\n            case 0xB6: // LDX ZP, Y\n                this.X = this.Load(this.ZP_Y());\n                break;\n            case 0xAE: // LDX ABS\n                this.X = this.Load(this.ABS());\n                break;\n            case 0xBE: // LDX ABS, Y\n                this.X = this.Load(this.ABS_Y());\n                break;\n            case 0xA0: // LDY IMM\n                this.Y = this.Load(this.PC + 1);\n                break;\n            case 0xA4: // LDY ZP\n                this.Y = this.Load(this.ZP());\n                break;\n            case 0xB4: // LDY ZP, X\n                this.Y = this.Load(this.ZP_X());\n                break;\n            case 0xAC: // LDY ABS\n                this.Y = this.Load(this.ABS());\n                break;\n            case 0xBC: // LDY ABS, X\n                this.Y = this.Load(this.ABS_X());\n                break;\n\n            case 0x85: // STA ZP\n                this.Store(this.ZP(), this.A);\n                break;\n            case 0x95: // STA ZP, X\n                this.Store(this.ZP_X(), this.A);\n                break;\n            case 0x92: // STA (IND)\n                this.Store(this.IND(), this.A);\n                break;\n            case 0x81: // STA (IND, X)\n                this.Store(this.IND_X(), this.A);\n                break;\n            case 0x91: // STA (IND), Y\n                this.Store(this.IND_Y(), this.A);\n                break;\n            case 0x8D: // STA ABS\n                this.Store(this.ABS(), this.A);\n                break;\n            case 0x9D: // STA ABS, X\n                this.Store(this.ABS_X(), this.A);\n                break;\n            case 0x99: // STA ABS, Y\n                this.Store(this.ABS_Y(), this.A);\n                break;\n            case 0x86: // STX ZP\n                this.Store(this.ZP(), this.X);\n                break;\n            case 0x96: // STX ZP, Y\n                this.Store(this.ZP_Y(), this.X);\n                break;\n            case 0x8E: // STX ABS\n                this.Store(this.ABS(), this.X);\n                break;\n            case 0x84: // STY ZP\n                this.Store(this.ZP(), this.Y);\n                break;\n            case 0x94: // STY ZP, X\n                this.Store(this.ZP_X(), this.Y);\n                break;\n            case 0x8C: // STY ABS\n                this.Store(this.ABS(), this.Y);\n                break;\n            case 0x64: // STZ ZP\n                this.Store(this.ZP(), 0x00);\n                break;\n            case 0x74: // STZ ZP, X\n                this.Store(this.ZP_X(), 0x00);\n                break;\n            case 0x9C: // STZ ABS\n                this.Store(this.ABS(), 0x00);\n                break;\n            case 0x9E: // STZ ABS, X\n                this.Store(this.ABS_X(), 0x00);\n                break;\n\n            case 0xEA: // NOP\n                this.ClearTFlag();\n                break;\n\n            case 0x03: // ST0\n                this.SetVDCRegister(this.Get(this.PC + 1), this.VDCSelect);\n                this.ClearTFlag();\n                break;\n            case 0x13: // ST1\n                this.SetVDCLow(this.Get(this.PC + 1), this.VDCSelect);\n                this.ClearTFlag();\n                break;\n            case 0x23: // ST2\n                this.SetVDCHigh(this.Get(this.PC + 1), this.VDCSelect);\n                this.ClearTFlag();\n                break;\n\n            case 0x53: // TAMi\n                data = this.Get(this.PC + 1);\n                bit = 0x01;\n                if (data == 0x00)\n                    data = this.MPRSelect;\n                else\n                    this.MPRSelect = data;\n                for (i = 0; i < 8; i++)\n                    if ((data & (bit << i)) != 0x00)\n                        this.MPR[i] = this.A << 13;\n                break;\n            case 0x43: // TMAi\n                data = this.Get(this.PC + 1);\n                bit = 0x01;\n                if (data == 0x00)\n                    data = this.MPRSelect;\n                else\n                    this.MPRSelect = data;\n                for (i = 0; i < 8; i++)\n                    if ((data & (bit << i)) != 0x00)\n                        this.A = this.MPR[i] >>> 13;\n                break;\n\n            case 0xF3: // TAI\n                if (this.TransferLen == 0) {\n                    this.TransferSrc = this.Get16(this.PC + 1);\n                    this.TransferDist = this.Get16(this.PC + 3);\n                    this.TransferLen = this.Get16(this.PC + 5);\n                    this.TransferAlt = 1;\n                    this.ProgressClock = 17;\n                }\n\n                this.Set(this.TransferDist, this.Get(this.TransferSrc));\n                this.TransferSrc = (this.TransferSrc + this.TransferAlt) & 0xFFFF;\n                this.TransferDist = (this.TransferDist + 1) & 0xFFFF;\n                this.TransferLen = (this.TransferLen - 1) & 0xFFFF;\n                this.TransferAlt = this.TransferAlt == 1 ? -1 : 1;\n                this.ProgressClock += 6;\n\n                if (this.TransferLen == 0) {\n                    this.ClearTFlag();\n                    this.PC += 7;\n                }\n                break;\n            case 0xC3: // TDD\n                if (this.TransferLen == 0) {\n                    this.TransferSrc = this.Get16(this.PC + 1);\n                    this.TransferDist = this.Get16(this.PC + 3);\n                    this.TransferLen = this.Get16(this.PC + 5);\n                    this.ProgressClock = 17;\n                }\n\n                this.Set(this.TransferDist, this.Get(this.TransferSrc));\n                this.TransferSrc = (this.TransferSrc - 1) & 0xFFFF;\n                this.TransferDist = (this.TransferDist - 1) & 0xFFFF;\n                this.TransferLen = (this.TransferLen - 1) & 0xFFFF;\n                this.ProgressClock += 6;\n\n                if (this.TransferLen == 0) {\n                    this.ClearTFlag();\n                    this.PC += 7;\n                }\n                break;\n            case 0xE3: // TIA\n                if (this.TransferLen == 0) {\n                    this.TransferSrc = this.Get16(this.PC + 1);\n                    this.TransferDist = this.Get16(this.PC + 3);\n                    this.TransferLen = this.Get16(this.PC + 5);\n                    this.TransferAlt = 1;\n                    this.ProgressClock = 17;\n                }\n\n                this.Set(this.TransferDist, this.Get(this.TransferSrc));\n                this.TransferSrc = (this.TransferSrc + 1) & 0xFFFF;\n                this.TransferDist = (this.TransferDist + this.TransferAlt) & 0xFFFF;\n                this.TransferLen = (this.TransferLen - 1) & 0xFFFF;\n                this.TransferAlt = this.TransferAlt == 1 ? -1 : 1;\n                this.ProgressClock += 6;\n\n                if (this.TransferLen == 0) {\n                    this.ClearTFlag();\n                    this.PC += 7;\n                }\n                break;\n            case 0x73: // TII\n                if (this.TransferLen == 0) {\n                    this.TransferSrc = this.Get16(this.PC + 1);\n                    this.TransferDist = this.Get16(this.PC + 3);\n                    this.TransferLen = this.Get16(this.PC + 5);\n                    this.ProgressClock = 17;\n                }\n\n                this.Set(this.TransferDist, this.Get(this.TransferSrc));\n                this.TransferSrc = (this.TransferSrc + 1) & 0xFFFF;\n                this.TransferDist = (this.TransferDist + 1) & 0xFFFF;\n                this.TransferLen = (this.TransferLen - 1) & 0xFFFF;\n                this.ProgressClock += 6;\n\n                if (this.TransferLen == 0) {\n                    this.ClearTFlag();\n                    this.PC += 7;\n                }\n\n                break;\n            case 0xD3: // TIN\n                if (this.TransferLen == 0) {\n                    this.TransferSrc = this.Get16(this.PC + 1);\n                    this.TransferDist = this.Get16(this.PC + 3);\n                    this.TransferLen = this.Get16(this.PC + 5);\n                    this.ProgressClock = 17;\n                }\n\n                this.Set(this.TransferDist, this.Get(this.TransferSrc));\n                this.TransferSrc = (this.TransferSrc + 1) & 0xFFFF;\n                this.TransferLen = (this.TransferLen - 1) & 0xFFFF;\n                this.ProgressClock += 6;\n\n                if (this.TransferLen == 0) {\n                    this.ClearTFlag();\n                    this.PC += 7;\n                }\n                break;\n\n            case 0xD4: // CSH\n                this.ClearTFlag();\n                this.CPUBaseClock = this.BaseClock7;\n                break;\n            case 0x54: // CSL\n                this.ClearTFlag();\n                this.CPUBaseClock = this.BaseClock1;\n                break;\n            default:\n                this.ClearTFlag();//NOP\n                break;\n        }\n        this.PC += this.OpBytes[op];\n        this.ProgressClock = (this.ProgressClock + this.OpCycles[op]) * this.CPUBaseClock;\n    }\n\n    Adder(address, neg) {\n        let data0;\n        let data1 = this.Get(address);\n\n        if (!neg && (this.P & this.TFlag) == this.TFlag) {\n            this.ProgressClock = 3;\n            data0 = this.Get(0x2000 | this.X);\n        } else\n            data0 = this.A;\n\n        if (neg)\n            data1 = ~data1 & 0xFF;\n\n        let carry = this.P & 0x01;\n        let tmp = data0 + data1 + carry;\n\n        if ((this.P & this.DFlag) == 0x00) {\n            if ((((~data0 & ~data1 & tmp) | (data0 & data1 & ~tmp)) & 0x80) == 0x80)\n                this.SetVFlag();\n            else\n                this.ClearVFlag();\n        } else {\n            this.ProgressClock += 1;\n            if (neg) {\n                if ((tmp & 0x0F) > 0x09)\n                    tmp -= 0x06;\n                if ((tmp & 0xF0) > 0x90)\n                    tmp -= 0x60;\n            } else {\n                if (((data0 & 0x0F) + (data1 & 0x0F) + carry) > 0x09)\n                    tmp += 0x06;\n                if ((tmp & 0x1F0) > 0x90)\n                    tmp += 0x60;\n            }\n        }\n\n        if (tmp > 0xFF)\n            this.SetCFlag();\n        else\n            this.ClearCFlag();\n\n        tmp &= 0xFF;\n        this.SetNZFlag(tmp);\n\n        if (!neg && (this.P & this.TFlag) == this.TFlag)\n            this.Set(0x2000 | this.X, tmp);\n        else\n            this.A = tmp;\n\n        this.ClearTFlag();\n    }\n\n\n    ADC(address) {\n        this.Adder(address, false);\n    }\n\n\n    SBC(address) {\n        this.Adder(address, true);\n    }\n\n\n    AND(address) {\n        let data0;\n        let data1 = this.Get(address);\n\n        if ((this.P & this.TFlag) == 0x00) {\n            data0 = this.A;\n        } else {\n            this.ProgressClock = 3;\n            data0 = this.Get(0x2000 | this.X);\n        }\n\n        let tmp = data0 & data1;\n        this.SetNZFlag(tmp);\n\n        if ((this.P & this.TFlag) == 0x00)\n            this.A = tmp;\n        else\n            this.Set(0x2000 | this.X, tmp);\n\n        this.ClearTFlag();\n    }\n\n\n    EOR(address) {\n        let data0;\n        let data1 = this.Get(address);\n\n        if ((this.P & this.TFlag) == 0x00) {\n            data0 = this.A;\n        } else {\n            this.ProgressClock = 3;\n            data0 = this.Get(0x2000 | this.X);\n        }\n\n        let tmp = data0 ^ data1;\n        this.SetNZFlag(tmp);\n\n        if ((this.P & this.TFlag) == 0x00)\n            this.A = tmp;\n        else\n            this.Set(0x2000 | this.X, tmp);\n\n        this.ClearTFlag();\n    }\n\n\n    ORA(address) {\n        let data0;\n        let data1 = this.Get(address);\n\n        if ((this.P & this.TFlag) == 0x00) {\n            data0 = this.A;\n        } else {\n            this.ProgressClock = 3;\n            data0 = this.Get(0x2000 | this.X);\n        }\n\n        let tmp = data0 | data1;\n        this.SetNZFlag(tmp);\n\n        if ((this.P & this.TFlag) == 0x00)\n            this.A = tmp;\n        else\n            this.Set(0x2000 | this.X, tmp);\n\n        this.ClearTFlag();\n    }\n\n\n    ASL(data) {\n        data <<= 1;\n        if (data > 0xFF)\n            this.SetCFlag();\n        else\n            this.ClearCFlag();\n\n        data &= 0xFF;\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    LSR(data) {\n        if ((data & 0x01) == 0x01)\n            this.SetCFlag();\n        else\n            this.ClearCFlag();\n\n        data >>= 1;\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    ROL(data) {\n        data = (data << 1) | (this.P & 0x01);\n        if (data > 0xFF)\n            this.SetCFlag();\n        else\n            this.ClearCFlag();\n\n        data &= 0xFF;\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    ROR(data) {\n        let tmp = this.P & this.CFlag;\n        if ((data & 0x01) == 0x01)\n            this.SetCFlag();\n        else\n            this.ClearCFlag();\n\n        data = (data >> 1) | (tmp << 7);\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    BBRi(bit) {\n        let tmp = this.Get(this.ZP());\n        tmp = (tmp >> bit) & 0x01;\n        this.Branch(tmp == 0, 2);\n    }\n\n\n    BBSi(bit) {\n        let tmp = this.Get(this.ZP());\n        tmp = (tmp >> bit) & 0x01;\n        this.Branch(tmp == 1, 2);\n    }\n\n\n    Branch(status, adr) {\n        this.ClearTFlag();\n        if (status) {\n            let tmp = this.Get(this.PC + adr);\n            if (tmp >= 0x80)\n                tmp |= 0xFF00;\n            this.PC = (this.PC + adr + 1 + tmp) & 0xFFFF;\n            this.ProgressClock = 2;\n        } else\n            this.PC += adr + 1;\n    }\n\n\n    Compare(data0, data1) {\n        data0 -= this.Get(data1);\n        if (data0 < 0)\n            this.ClearCFlag();\n        else\n            this.SetCFlag();\n\n        this.ClearTFlag();\n        this.SetNZFlag(data0 & 0xFF);\n    }\n\n\n    Decrement(data) {\n        data = (data - 1) & 0xFF;\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    Increment(data) {\n        data = (data + 1) & 0xFF;\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    Push(data) {\n        this.Set(0x2100 | this.S, data);\n        this.S = (this.S - 1) & 0xFF;\n    }\n\n\n    Pull() {\n        this.S = (this.S + 1) & 0xFF;\n        return this.Get(0x2100 | this.S);\n    }\n\n\n    RMBi(bit) {\n        let address = this.ZP();\n        this.Set(address, this.Get(address) & ~(0x01 << bit));\n        this.ClearTFlag();\n    }\n\n\n    SMBi(bit) {\n        let address = this.ZP();\n        this.Set(address, this.Get(address) | (0x01 << bit));\n        this.ClearTFlag();\n    }\n\n\n    BIT(address) {\n        let tmp = this.Get(address);\n        this.SetNZFlag(this.A & tmp);\n        this.P = (this.P & ~(this.NFlag | this.VFlag)) | (tmp & (this.NFlag | this.VFlag));\n        this.ClearTFlag();\n    }\n\n\n    TST(address0, address1) {\n        let tmp0 = this.Get(address0);\n        let tmp1 = this.Get(address1);\n        this.SetNZFlag(tmp0 & tmp1);\n        this.P = (this.P & ~(this.NFlag | this.VFlag)) | (tmp1 & (this.NFlag | this.VFlag));\n        this.ClearTFlag();\n    }\n\n\n    TRB(address) {\n        let tmp = this.Get(address);\n        let res = ~this.A & tmp;\n        this.Set(address, res);\n        this.SetNZFlag(res);\n        this.P = (this.P & ~(this.NFlag | this.VFlag)) | (tmp & (this.NFlag | this.VFlag));\n        this.ClearTFlag();\n    }\n\n\n    TSB(address) {\n        let tmp = this.Get(address);\n        let res = this.A | tmp;\n        this.Set(address, res);\n        this.SetNZFlag(res);\n        this.P = (this.P & ~(this.NFlag | this.VFlag)) | (tmp & (this.NFlag | this.VFlag));\n        this.ClearTFlag();\n    }\n\n\n    Load(address) {\n        let data = this.Get(address);\n        this.SetNZFlag(data);\n        this.ClearTFlag();\n        return data;\n    }\n\n\n    Store(address, data) {\n        this.Set(address, data);\n        this.ClearTFlag();\n    }\n\n\n    ZP() {\n        return 0x2000 | this.Get(this.PC + 1);\n    }\n\n\n    ZP_X() {\n        return 0x2000 | ((this.Get(this.PC + 1) + this.X) & 0xFF);\n    }\n\n\n    ZP_Y() {\n        return 0x2000 | ((this.Get(this.PC + 1) + this.Y) & 0xFF);\n    }\n\n\n    IND() {\n        return this.Get16(0x2000 | this.Get(this.PC + 1));\n    }\n\n\n    IND_X() {\n        return this.Get16(0x2000 | ((this.Get(this.PC + 1) + this.X) & 0xFF));\n    }\n\n\n    IND_Y() {\n        return (this.Get16(0x2000 | this.Get(this.PC + 1)) + this.Y) & 0xFFFF;\n    }\n\n\n    ABS() {\n        return this.Get16(this.PC + 1);\n    }\n\n\n    ABS_X() {\n        return (this.Get16(this.PC + 1) + this.X) & 0xFFFF;\n    }\n\n\n    ABS_Y() {\n        return (this.Get16(this.PC + 1) + this.Y) & 0xFFFF;\n    }\n\n\n    ABS_IND() {\n        return this.Get16(this.Get16(this.PC + 1));\n    }\n\n\n    ABS_X_IND() {\n        return this.Get16((this.Get16(this.PC + 1) + this.X) & 0xFFFF);\n    }\n\n\n    SetNZFlag(data) { // Set N Z Flags\n        this.P = (this.P & ~(this.NFlag | this.ZFlag)) | this.NZCacheTable[data];\n    }\n\n\n    SetVFlag() { // Set V Flag\n        this.P |= this.VFlag;\n    }\n\n\n    ClearVFlag() { // Clear V Flag\n        this.P &= ~this.VFlag;\n    }\n\n\n    SetTFlag() { // Set T Flag\n        this.P |= this.TFlag;\n    }\n\n\n    ClearTFlag() { // Clear T Flag\n        this.P &= ~this.TFlag;\n    }\n\n\n    SetBFlag() { // Set B Flag\n        this.P |= this.BFlag;\n    }\n\n\n    ClearBFlag() { // Clear B Flag\n        this.P &= ~this.BFlag;\n    }\n\n\n    SetDFlag() { // Set D Flag\n        this.P |= this.DFlag;\n    }\n\n\n    ClearDFlag() { // Clear D Flag\n        this.P &= ~this.DFlag;\n    }\n\n\n    SetIFlag() { // Set I Flag\n        this.P |= this.IFlag;\n    }\n\n\n    ClearIFlag() { // Clear I Flag\n        this.P &= ~this.IFlag;\n    }\n\n\n    SetCFlag() { // Set C Flag\n        this.P |= this.CFlag;\n    }\n\n\n    ClearCFlag() { // Clear C Flag\n        this.P &= ~this.CFlag;\n    }\n\n\n    PCH() {\n        return this.PC >> 8;\n    }\n\n\n    PCL() {\n        return this.PC & 0x00FF;\n    }\n\n\n    toPCH(data) {\n        this.PC = (this.PC & 0x00FF) | (data << 8);\n    }\n\n\n    toPCL(data) {\n        this.PC = (this.PC & 0xFF00) | data;\n    }\n\n\n    /* ***************** */\n    /* **** Storage **** */\n    /* ***************** */\n    StorageConstruct() {\n        this.MPR = new Array(8);\n        this.MPRSelect = 0;\n        this.RAM = new Uint8Array(0x8000);\n        this.RAMMask = 0x1FFF;\n        this.BRAM = new Uint8Array(0x2000).fill(0x00);\n        this.BRAMUse = false;\n\n        this.INTIRQ2 = 0x00;\n        this.IntDisableRegister = 0;\n\n        this.Mapper = null;\n\n        this.Mapper0 = class extends this.MapperBase {\n            Address: number;\n            constructor(rom, core) {\n                super(rom, core);\n\n                let tmp = this.ROM.length - 1;\n                this.Address = 0x80000;\n                while (this.Address > 0x0000) {\n                    if ((this.Address & tmp) != 0x0000)\n                        break;\n                    this.Address >>>= 1;\n                }\n            }\n\n            Read(address) {\n                if (address >= this.ROM.length)\n                    return this.ROM[(address & (this.Address - 1)) | this.Address];\n                else\n                    return this.ROM[address];\n            }\n        };\n\n        this.Mapper1 = class extends this.MapperBase {\n            ROM: any;\n            Address: number;\n            constructor(rom, core) {\n                super(rom, core);\n                this.Address = 0;\n            }\n\n            Init() {\n                this.Address = 0;\n            }\n\n            Read(address) {\n                if (address < 0x80000)\n                    return this.ROM[address];\n                else\n                    return this.ROM[this.Address | (address & 0x7FFFF)];\n            }\n\n            Write(address, data) {\n                this.Address = ((address & 0x000F) + 1) << 19;\n            }\n        };\n\n        this.Mapper2 = class extends this.MapperBase {\n            ROM: any;\n            constructor(rom, core) {\n                super(rom, core);\n                this.ROM = rom;\n            }\n\n            Read(address) {\n                return this.ROM[address] || 0;\n            }\n\n            Write(address, data) {\n                if (address >= 0x80000)\n                    this.ROM[address] = data;\n            }\n        };\n    }\n\n\n    GetIntStatus() {\n        return ~this.IntDisableRegister & this.GetIntReqest();\n    }\n\n\n    GetIntDisable() {\n        return this.IntDisableRegister;\n    }\n\n\n    SetIntDisable(data) {\n        this.IntDisableRegister = data;\n        this.TimerAcknowledge();\n    }\n\n\n    GetIntReqest() {\n        return (((this.VDC[0].VDCStatus | this.VDC[1].VDCStatus) & 0x3F) != 0x00 ? this.IRQ1Flag : 0x00) | this.INTIRQ2 | this.INTTIQ;\n    }\n\n\n    SetIntReqest(data) {\n        this.TimerAcknowledge();\n    }\n\n\n    SetROM(rom) {\n        this.Init();\n        let tmp = rom.slice(rom.length % 8192);\n        //if(tmp[0x001FFF] < 0xE0)\n        //\ttmp = tmp.map((d) => {return this.ReverseBit[d];});\n        this.Mapper = new this.Mapper0(tmp, this);\n        this.CPUReset();\n    }\n\n\n    StorageInit() {\n        this.RAM.fill(0x00);\n        this.RAMMask = this.SuperGrafx ? 0x7FFF : 0x1FFF;\n        this.StorageReset();\n    }\n\n\n    StorageReset() {\n        this.IntDisableRegister = 0x00;//IntInit\n\n        for (let i = 0; i < 7; i++)\n            this.MPR[i] = 0xFF << 13;\n        this.MPR[7] = 0x00;\n\n        this.MPRSelect = 0x01;\n    }\n\n\n    Get16(address) {\n        return (this.Get(address + 1) << 8) | this.Get(address);\n    }\n\n\n    Get(address) {\n        address = this.MPR[address >> 13] | (address & 0x1FFF);\n\n        if (address < 0x100000)// ROM\n            return this.Mapper.Read(address);\n\n        if (address < 0x1EE000)// NOT USE\n            return 0xFF;\n\n        if (address < 0x1F0000) {// BRAM\n            if (this.BRAMUse)\n                return this.BRAM[address & 0x1FFF];\n            else\n                return 0xFF;\n        }\n\n        if (address < 0x1F8000)// RAM\n            return this.RAM[address & this.RAMMask];\n\n        if (address < 0x1FE000)// NOT USE\n            return 0xFF;\n\n        if (address < 0x1FE400) {// VDC\n            if (this.SuperGrafx) {\n                let tmp = address & 0x00001F;\n                if (tmp < 0x00008) {\n                    switch (address & 0x000003) {// VDC#1\n                        case 0x00:\n                            return this.GetVDCStatus(0);\n                        case 0x01:\n                            return 0x00;\n                        case 0x02:\n                            return this.GetVDCLow(0);\n                        case 0x03:\n                            return this.GetVDCHigh(0);\n                    }\n                } else if (tmp < 0x00010) {// VPC\n                    return this.GetVPC(tmp & 0x000007);\n                } else if (tmp < 0x00018) {// VDC#2\n                    switch (address & 0x000003) {\n                        case 0x00:\n                            return this.GetVDCStatus(1);\n                        case 0x01:\n                            return 0x00;\n                        case 0x02:\n                            return this.GetVDCLow(1);\n                        case 0x03:\n                            return this.GetVDCHigh(1);\n                    }\n                } else {\n                    return 0xFF;\n                }\n            } else {\n                switch (address & 0x000003) {// VDC#1\n                    case 0x00:\n                        return this.GetVDCStatus(0);\n                    case 0x01:\n                        return 0x00;\n                    case 0x02:\n                        return this.GetVDCLow(0);\n                    case 0x03:\n                        return this.GetVDCHigh(0);\n                }\n            }\n        }\n\n        if (address < 0x1FE800) {// VCE\n            switch (address & 0x000007) {\n                case 0x04:\n                    return this.GetVCEDataLow();\n                case 0x05:\n                    return this.GetVCEDataHigh();\n                default:\n                    return 0x00;\n\n            }\n        }\n\n        if (address < 0x1FEC00)// PSG\n            return this.GetPSG(address & 0x00000F);\n\n        if (address < 0x1FF000)// TIMER\n            return this.ReadTimerCounter();\n\n        if (address < 0x1FF400)// IO\n            return this.GetJoystick();\n\n        if (address < 0x1FF800) {// INT Register\n            switch (address & 0x000003) {\n                case 0x02:\n                    return this.GetIntDisable();\n                case 0x03:\n                    return this.GetIntReqest();\n                default:\n                    return 0x00;\n            }\n        }\n\n        return 0xFF;//EXT\n    }\n\n\n    Set(address, data) {\n        address = this.MPR[address >> 13] | (address & 0x1FFF);\n\n        if (address < 0x100000) {// ROM\n            this.Mapper.Write(address, data);\n            return;\n        }\n\n        if (address < 0x1EE000)// NOT USE\n            return;\n\n        if (address < 0x1F0000) {// BRAM\n            if (this.BRAMUse)\n                this.BRAM[address & 0x1FFF] = data;\n            return;\n        }\n\n        if (address < 0x1F8000) {// RAM\n            this.RAM[address & this.RAMMask] = data;\n            return;\n        }\n\n        if (address < 0x1FE000)// NOT USE\n            return;\n\n        if (address < 0x1FE400) {// VDC\n            if (this.SuperGrafx) {\n                let tmp = address & 0x00001F;\n                if (tmp < 0x00008) {\n                    switch (address & 0x000003) {// VDC#1\n                        case 0x00:\n                            this.SetVDCRegister(data, 0);\n                            break;\n                        case 0x02:\n                            this.SetVDCLow(data, 0);\n                            break;\n                        case 0x03:\n                            this.SetVDCHigh(data, 0);\n                            break;\n                    }\n                } else if (tmp < 0x00010) {// VPC\n                    this.SetVPC(tmp & 0x000007, data);\n                } else if (tmp < 0x00018) {// VDC#2\n                    switch (address & 0x000003) {\n                        case 0x00:\n                            this.SetVDCRegister(data, 1);\n                            break;\n                        case 0x02:\n                            this.SetVDCLow(data, 1);\n                            break;\n                        case 0x03:\n                            this.SetVDCHigh(data, 1);\n                            break;\n                    }\n                }\n            } else {\n                switch (address & 0x000003) {// VDC#1\n                    case 0x00:\n                        this.SetVDCRegister(data, 0);\n                        break;\n                    case 0x01:\n                        break;\n                    case 0x02:\n                        this.SetVDCLow(data, 0);\n                        break;\n                    case 0x03:\n                        this.SetVDCHigh(data, 0);\n                        break;\n                }\n            }\n            return;\n        }\n\n        if (address < 0x1FE800) {// VCE\n            switch (address & 0x000007) {\n                case 0x00:\n                    this.SetVCEControl(data);\n                    break;\n                case 0x02:\n                    this.SetVCEAddressLow(data);\n                    break;\n                case 0x03:\n                    this.SetVCEAddressHigh(data);\n                    break;\n                case 0x04:\n                    this.SetVCEDataLow(data);\n                    break;\n                case 0x05:\n                    this.SetVCEDataHigh(data);\n                    break;\n            }\n            return;\n        }\n\n        if (address < 0x1FEC00) {// PSG\n            this.SetPSG(address & 0x00000F, data);\n            return;\n        }\n\n        if (address < 0x1FF000) {// TIMER\n            switch (address & 0x000001) {\n                case 0x00:\n                    this.WirteTimerReload(data);\n                    break;\n                case 0x01:\n                    this.WirteTimerControl(data);\n                    break;\n            }\n            return;\n        }\n\n        if (address < 0x1FF400) {// IO\n            this.SetJoystick(data);\n            return;\n        }\n\n        if (address < 0x1FF800) {// INT Register\n            switch (address & 0x000003) {\n                case 0x02:\n                    this.SetIntDisable(data);\n                    break;\n                case 0x03:\n                    this.SetIntReqest(data);\n                    break;\n            }\n            return;\n        }\n    }\n\n\n    /* ************* */\n    /* **** VCE **** */\n    /* ************* */\n    VCEConstruct() {\n        this.Palette = new Array(512);\n        this.PaletteData = new Array(512);\n        this.MonoPaletteData = new Array(512);\n\n        this.VCEBaseClock = 0;\n        this.VCEControl = 0;\n        this.VCEAddress = 0;\n        this.VCEData = 0;\n    }\n\n\n    VCEInit() {\n        this.Palette.fill(0x0000);\n        for (let i = 0; i < 512; i++) {\n            this.PaletteData[i] = { r: 0, g: 0, b: 0 };\n            this.MonoPaletteData[i] = { r: 0, g: 0, b: 0 };\n        }\n\n        this.VCEBaseClock = this.BaseClock5;\n        this.VCEControl = 0x00;\n        this.VCEAddress = 0x00;\n        this.VCEData = 0x00;\n    }\n\n\n    SetVCEControl(data) {\n        this.VCEControl = data;\n\n        switch (data & 0x03) {\n            case 0x00:\n                this.VCEBaseClock = this.BaseClock5;\n                break;\n            case 0x01:\n                this.VCEBaseClock = this.BaseClock7;\n                break;\n            case 0x02:\n            case 0x03:\n                this.VCEBaseClock = this.BaseClock10;\n                break;\n        }\n    }\n\n\n    SetVCEAddressLow(data) {\n        this.VCEAddress = (this.VCEAddress & 0xFF00) | data;\n    }\n\n\n    SetVCEAddressHigh(data) {\n        this.VCEAddress = ((this.VCEAddress & 0x00FF) | (data << 8)) & 0x01FF;\n    }\n\n\n    GetVCEDataLow() {\n        return this.Palette[this.VCEAddress] & 0x00FF;\n    }\n\n\n    GetVCEDataHigh() {\n        let tmp = (this.Palette[this.VCEAddress] & 0xFF00) >> 8;\n        this.VCEAddress = (this.VCEAddress + 1) & 0x01FF;\n        return tmp;\n    }\n\n\n    SetVCEDataLow(data) {\n        this.Palette[this.VCEAddress] = (this.Palette[this.VCEAddress] & 0xFF00) | data;\n        this.ToPalettes();\n    }\n\n\n    SetVCEDataHigh(data) {\n        this.Palette[this.VCEAddress] = (this.Palette[this.VCEAddress] & 0x00FF) | (data << 8);\n        this.ToPalettes();\n        this.VCEAddress = (this.VCEAddress + 1) & 0x01FF;\n    }\n\n\n    ToPalettes() {\n        let color = this.Palette[this.VCEAddress];\n        let tmp = this.PaletteData[this.VCEAddress];\n        tmp.r = ((color >> 3) & 0x07) * 36;\n        tmp.g = ((color >> 6) & 0x07) * 36;\n        tmp.b = (color & 0x07) * 36;\n\n        let mono = tmp.r * 0.299 + tmp.g * 0.587 + tmp.b * 0.114;\n        this.MonoPaletteData[this.VCEAddress].r = mono;\n        this.MonoPaletteData[this.VCEAddress].g = mono;\n        this.MonoPaletteData[this.VCEAddress].b = mono;\n    }\n\n\n    /* ************* */\n    /* **** VPC **** */\n    /* ************* */\n    VPCConstruct() {\n        this.VPCRegister = new Uint8Array(8);\n        this.VDCSelect = 0;\n        this.VPCWindow1 = 0;\n        this.VPCWindow2 = 0;\n        this.VPCPriority = new Uint8Array(4);\n    }\n\n\n    VPCInit() {\n        this.VPCRegister.fill(0x00);\n        this.VPCRegister[0] = 0x11;\n        this.VPCRegister[1] = 0x11;\n        this.VPCRegister[7] = 0xFF;\n\n        this.VDCSelect = 0;\n        this.VPCWindow1 = 0;\n        this.VPCWindow2 = 0;\n        this.VPCPriority.fill(0x01);\n    }\n\n\n    SetVPC(no, data) {\n        if (no == 0x07)\n            return;\n\n        this.VPCRegister[no] = data;\n        if (no == 0x06)\n            this.VDCSelect = data & 0x01;\n\n        if (no == 0x02 || no == 0x03) {\n            this.VPCWindow1 = (this.VPCRegister[0x02] | ((this.VPCRegister[0x03] & 0x03) << 8)) - 64;\n            if (this.VPCWindow1 < 0)\n                this.VPCWindow1 = 1024;\n        }\n\n        if (no == 0x04 || no == 0x05) {\n            this.VPCWindow2 = (this.VPCRegister[0x04] | ((this.VPCRegister[0x05] & 0x03) << 8)) - 64;\n            if (this.VPCWindow2 < 0)\n                this.VPCWindow2 = -1;\n        }\n\n        if (no == 0x00) {\n            this.VPCPriority[2] = this.VPCRegister[0x00] >> 4;\n            this.VPCPriority[3] = this.VPCRegister[0x00] & 0x0F;\n        }\n\n        if (no == 0x01) {\n            this.VPCPriority[0] = this.VPCRegister[0x01] >> 4;\n            this.VPCPriority[1] = this.VPCRegister[0x01] & 0x0F;\n        }\n    }\n\n\n    GetVPC(no) {\n        return this.VPCRegister[no];\n    }\n\n\n    /* ************* */\n    /* **** VDC **** */\n    /* ************* */\n    VDCConstruct() {\n        this.DrawFlag = false;\n        this.VDCPutLineProgressClock = 0;\n        this.VDCPutLine = 0;\n        this.VDC = new Array(2);\n\n        this.VDCLineClock = 1368;\n\n        this.ScreenSize = [];\n        this.ScreenSize[this.BaseClock5] = 342;\n        this.ScreenSize[this.BaseClock7] = 456;\n        this.ScreenSize[this.BaseClock10] = 684;\n\n        this.PutScreenSize = [];\n        this.PutScreenSize[this.BaseClock5] = 320;\n        this.PutScreenSize[this.BaseClock7] = 428;\n        this.PutScreenSize[this.BaseClock10] = 640;\n\n        this.ScreenHeightMAX = 262;\n        this.ScreenWidthMAX = 684;\n\n        this.VScreenWidthArray = [];\n        this.VScreenWidthArray[0x00] = 32;\n        this.VScreenWidthArray[0x10] = 64;\n        this.VScreenWidthArray[0x20] = 128;\n        this.VScreenWidthArray[0x30] = 128;\n\n        this.ReverseBit = new Uint8Array(0x100);\n        this.ReverseBit = this.ReverseBit.map((d, i) => {\n            return ((i & 0x80) >> 7) | ((i & 0x40) >> 5) |\n                ((i & 0x20) >> 3) | ((i & 0x10) >> 1) |\n                ((i & 0x08) << 1) | ((i & 0x04) << 3) |\n                ((i & 0x02) << 5) | ((i & 0x01) << 7);\n        });\n\n        this.ReverseBit16 = new Uint16Array(0x10000).fill(0x00);\n        this.ReverseBit16 = this.ReverseBit16.map((d, i) => { return (this.ReverseBit[i & 0x00FF] << 8) | this.ReverseBit[(i & 0xFF00) >> 8]; });\n\n        this.ReverseBit256 = new Uint32Array(0x100).fill(0x00);\n        this.ReverseBit256 = this.ReverseBit256.map((d, i) => {\n            let b = this.ReverseBit[i];\n            return ((b & 0x80) << (28 - 7)) |\n                ((b & 0x40) << (24 - 6)) |\n                ((b & 0x20) << (20 - 5)) |\n                ((b & 0x10) << (16 - 4)) |\n                ((b & 0x08) << (12 - 3)) |\n                ((b & 0x04) << (8 - 2)) |\n                ((b & 0x02) << (4 - 1)) |\n                ((b & 0x01) << (0 - 0));\n        });\n\n        this.SPAddressMask = [];\n        this.SPAddressMask[16] = [];\n        this.SPAddressMask[32] = [];\n        this.SPAddressMask[16][16] = 0x07FE;\n        this.SPAddressMask[16][32] = 0x07FE & 0x07FA;\n        this.SPAddressMask[16][64] = 0x07FE & 0x07F2;\n        this.SPAddressMask[32][16] = 0x07FC;\n        this.SPAddressMask[32][32] = 0x07FC & 0x07FA;\n        this.SPAddressMask[32][64] = 0x07FC & 0x07F2;\n    }\n\n\n    MakeSpriteLine(vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        let sp = vdcc.SPLine;\n        for (let i = 0; i < vdcc.ScreenWidth; i++) {\n            let spi = sp[i];\n            spi.data = 0x00;\n            spi.palette = 0x000;\n            spi.no = 255;\n            spi.priority = 0x00;\n        }\n\n        if ((vdcc.VDCRegister[0x05] & 0x0040) == 0x0000)\n            return;\n\n        let dotcount = 0;\n        let line = vdcc.DrawBGYLine - (vdcc.VDS + vdcc.VSW) + 64;\n\n        let vram = vdcc.VRAM;\n        let satb = vdcc.SATB;\n        let revbit16 = this.ReverseBit16;\n        for (let i = 0, s = 0; i < 64; i++, s += 4) {\n            let y = satb[s] & 0x3FF;\n            let attribute = satb[s + 3];\n\n            let height = ((attribute & 0x3000) >> 8) + 16;\n            height = height > 32 ? 64 : height;\n\n            if (line < y || line > (y + height - 1))\n                continue;\n\n            let x = (satb[s + 1] & 0x3FF) - 32;\n            let width = ((attribute & 0x0100) >> 4) + 16;\n            if ((x + width) <= 0)\n                continue;\n\n            let spy = line - y;\n            if ((attribute & 0x8000) == 0x8000)\n                spy = (height - 1) - spy;\n\n            let index = ((satb[s + 2] & this.SPAddressMask[width][height]) << 5) | (((spy & 0x30) << 3) | (spy & 0x0F));\n\n            let data0;\n            let data1;\n            let data2;\n            let data3;\n            if ((attribute & 0x0800) == 0x0000) {\n                data0 = revbit16[vram[index]];\n                data1 = revbit16[vram[index + 16]];\n                data2 = revbit16[vram[index + 32]];\n                data3 = revbit16[vram[index + 48]];\n                if (width == 32) {\n                    data0 |= revbit16[vram[(index | 0x0040)]] << 16;\n                    data1 |= revbit16[vram[(index | 0x0040) + 16]] << 16;\n                    data2 |= revbit16[vram[(index | 0x0040) + 32]] << 16;\n                    data3 |= revbit16[vram[(index | 0x0040) + 48]] << 16;\n                }\n            } else {\n                data0 = vram[index];\n                data1 = vram[index + 16];\n                data2 = vram[index + 32];\n                data3 = vram[index + 48];\n                if (width == 32) {\n                    data0 = (data0 << 16) | vram[(index | 0x0040)];\n                    data1 = (data1 << 16) | vram[(index | 0x0040) + 16];\n                    data2 = (data2 << 16) | vram[(index | 0x0040) + 32];\n                    data3 = (data3 << 16) | vram[(index | 0x0040) + 48];\n                }\n            }\n\n            let palette = ((attribute & 0x000F) << 4) | 0x0100;\n            let priority = attribute & 0x0080;\n\n            let j = 0;\n            if (x < 0) {\n                j -= x;\n                x = 0;\n            }\n\n            for (; j < width && x < vdcc.ScreenWidth; j++, x++) {\n                let spx = sp[x];\n                if (spx.data == 0x00) {\n                    let dot = ((data0 >>> j) & 0x0001)\n                        | (((data1 >>> j) << 1) & 0x0002)\n                        | (((data2 >>> j) << 2) & 0x0004)\n                        | (((data3 >>> j) << 3) & 0x0008);\n                    if (dot != 0x00) {\n                        spx.data = dot;\n                        spx.palette = palette;\n                        spx.priority = priority;\n                    }\n                }\n\n                if (spx.no == 255)\n                    spx.no = i;\n\n                if (i != 0 && spx.no == 0)\n                    vdcc.VDCStatus |= vdcc.VDCRegister[0x05] & 0x0001;//SetSpriteCollisionINT\n\n                if (++dotcount == 256) {\n                    vdcc.VDCStatus |= vdcc.VDCRegister[0x05] & 0x0002;//SetSpriteOverINT\n                    if (vdcc.SpriteLimit)\n                        return;\n                }\n            }\n        }\n    }\n\n\n    MakeBGLine(vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        let sp = vdcc.SPLine;\n        let bg = vdcc.BGLine;\n        let sw = vdcc.ScreenWidth;\n        let leftblank = ((vdcc.HDS + vdcc.HSW) << 3) + vdcc.DrawBGIndex;\n\n        if ((vdcc.VDCRegister[0x05] & 0x0080) == 0x0080) {\n            let WidthMask = vdcc.VScreenWidth - 1;\n\n            let x = vdcc.VDCRegister[0x07];\n            let index_x = (x >> 3) & WidthMask;\n            x = (x & 0x07) << 2;\n\n            let y = vdcc.DrawBGLine;\n            let index_y = ((y >> 3) & (vdcc.VScreenHeight - 1)) * vdcc.VScreenWidth;\n            y = y & 0x07;\n\n            let vram = vdcc.VRAM;\n            let bgx = 0;\n            let revbit = this.ReverseBit256;\n\n            while (bgx < sw) {\n                let tmp = vram[index_x + index_y];\n                let address = ((tmp & 0x0FFF) << 4) + y;\n                let palette = (tmp & 0xF000) >> 8;\n\n                let data0 = vram[address];\n                let data1 = vram[address + 8];\n                let data = (revbit[data0 & 0x00FF]) |\n                    (revbit[(data0 & 0xFF00) >> 8] << 1) |\n                    (revbit[data1 & 0x00FF] << 2) |\n                    (revbit[(data1 & 0xFF00) >> 8] << 3);\n\n                for (; x < 32 && bgx < sw; x += 4, bgx++) {\n                    let dot = (data >>> x) & 0x0F;\n                    let spbgx = sp[bgx];\n                    bg[bgx + leftblank] = spbgx.data != 0x00 && (dot == 0x00 || spbgx.priority == 0x0080) ?\n                        spbgx.data | spbgx.palette : dot | (dot == 0x00 ? 0x00 : palette);\n                }\n\n                x = 0;\n                index_x = (index_x + 1) & WidthMask;\n            }\n        } else {\n            for (let i = 0; i < sw; i++)\n                bg[i + leftblank] = sp[i].data | sp[i].palette;\n        }\n    }\n\n\n    MakeBGColorLineVDC(vdcno) {\n        this.VDC[vdcno].BGLine.fill(0x100);\n    }\n\n\n    VDCProcessDMA(vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        if (vdcc.VRAMtoSATBCount > 0) {//VRAMtoSATB\n            vdcc.VRAMtoSATBCount -= this.ProgressClock;\n            if (vdcc.VRAMtoSATBCount <= 0)\n                vdcc.VDCStatus = (vdcc.VDCStatus & 0xBF) | ((vdcc.VDCRegister[0x0F] & 0x0001) << 3);//VRAMtoSATB INT\n        }\n\n        if (vdcc.VRAMtoVRAMCount > 0) {//VRAMtoVRAM\n            vdcc.VRAMtoVRAMCount -= this.ProgressClock;\n            if (vdcc.VRAMtoVRAMCount <= 0)\n                vdcc.VDCStatus = (vdcc.VDCStatus & 0xBF) | ((vdcc.VDCRegister[0x0F] & 0x0002) << 3);//VRAMtoVRAM INT\n        }\n    }\n\n\n    VDCProcess(vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        vdcc.VDCProgressClock -= this.VDCLineClock;\n\n        vdcc.DrawBGIndex = 0;\n        vdcc.BGLine.fill(0x100);\n\n        for (let i = 0; i < vdcc.ScreenSize; i += vdcc.DrawLineWidth) {\n            vdcc.DrawBGYLine++;\n\n            if (vdcc.DrawBGYLine == this.ScreenHeightMAX)\n                vdcc.DrawBGYLine = 0;\n\n            if (vdcc.DrawBGYLine < (vdcc.VDS + vdcc.VSW)) {//OVER SCAN\n                this.MakeBGColorLineVDC(vdcno);\n            } else if (vdcc.DrawBGYLine <= (vdcc.VDS + vdcc.VSW + vdcc.VDW)) {//ACTIVE DISPLAY\n                vdcc.DrawBGLine = (vdcc.DrawBGYLine == (vdcc.VDS + vdcc.VSW) ? vdcc.VDCRegister[0x08] : (vdcc.DrawBGLine + 1)) & vdcc.VScreenHeightMask;\n                if (!vdcc.VDCBurst) {\n                    this.MakeSpriteLine(vdcno);\n                    this.MakeBGLine(vdcno);\n                } else\n                    this.MakeBGColorLineVDC(vdcno);\n            } else {//OVER SCAN\n                this.MakeBGColorLineVDC(vdcno);\n            }\n\n            let vline = vdcc.VDS + vdcc.VSW + vdcc.VDW + 1;\n            if (vline > 261)\n                vline -= 261;\n            if (vdcc.DrawBGYLine == vline) {\n                vdcc.VDCStatus |= (vdcc.VDCRegister[0x05] & 0x0008) << 2;//SetVSync INT\n                if (vdcc.VRAMtoSATBStartFlag) {//VRAMtoSATB\n                    for (let i = 0, addr = vdcc.VDCRegister[0x13]; i < 256; i++, addr++)\n                        vdcc.SATB[i] = vdcc.VRAM[addr];\n                    vdcc.VRAMtoSATBCount = 256 * this.VCEBaseClock;\n                    vdcc.VDCStatus |= 0x40;\n                    vdcc.VRAMtoSATBStartFlag = (vdcc.VDCRegister[0x0F] & 0x0010) == 0x0010;\n                }\n            }\n\n            vdcc.RasterCount++;\n            if (vdcc.DrawBGYLine == (vdcc.VDS + vdcc.VSW - 1))\n                vdcc.RasterCount = 64;\n\n            if (vdcc.RasterCount == vdcc.VDCRegister[0x06] && (vdcc.VDCStatus & 0x20) == 0x00)\n                vdcc.VDCStatus |= vdcc.VDCRegister[0x05] & 0x0004;//SetRaster INT\n\n            vdcc.DrawBGIndex += vdcc.DrawLineWidth;\n        }\n    }\n\n\n    VDCRun() {\n        this.VDCProcessDMA(0);\n        this.VDC[0].VDCProgressClock += this.ProgressClock;\n\n        if (this.SuperGrafx) {\n            this.VDCProcessDMA(1);\n            this.VDC[1].VDCProgressClock += this.ProgressClock;\n        }\n\n        while (this.VDC[0].VDCProgressClock >= this.VDCLineClock) {\n            this.VDCProcess(0);\n            if (this.SuperGrafx)\n                this.VDCProcess(1);\n        }\n\n        this.VDCPutLineProgressClock += this.ProgressClock;\n        if (this.VDCPutLineProgressClock >= this.VDCLineClock) {\n            this.VDCPutLineProgressClock -= this.VDCLineClock;\n            this.VDCPutLine++;\n\n            if (this.VDCPutLine == this.ScreenHeightMAX) {\n                this.VDCPutLine = 0;\n                this.GetScreenSize(0);\n                this.VDC[0].DrawBGYLine = 0;\n                if (this.SuperGrafx) {\n                    this.GetScreenSize(1);\n                    this.VDC[1].DrawBGYLine = 0;\n                }\n                this.DrawFlag = true;\n                this.Ctx.putImageData(this.ImageData, 0, 0);\n            }\n\n            let palettes = (this.VCEControl & 0x80) == 0x00 ? this.PaletteData : this.MonoPaletteData;\n\n            let data = this.ImageData.data;\n            let imageIndex = this.VDCPutLine * this.ScreenWidthMAX * 4;\n            let black = palettes[0x100];\n\n            let sw = this.ScreenSize[this.VCEBaseClock];\n            let bgl0 = this.VDC[0].BGLine;\n\n            if (this.SuperGrafx) {//VPC\n                let window1 = this.VPCWindow1;\n                let window2 = this.VPCWindow2;\n                let priority = this.VPCPriority;\n\n                let bgl1 = this.VDC[1].BGLine;\n                for (let bgx = 0; bgx < sw; bgx++, imageIndex += 4) {\n                    let wflag = 0x00;\n                    if (bgx >= window1)\n                        wflag |= 0x01;\n                    if (bgx <= window2)\n                        wflag |= 0x02;\n\n                    let bg0 = bgl0[bgx];\n                    let bg1 = bgl1[bgx];\n\n                    let color;\n                    switch (priority[wflag]) {\n                        case 0x04 | 0x03:\n                            if (bg0 > 0x100 || bg1 > 0x100)\n                                color = palettes[bg0 > 0x100 ? bg0 : bg1];\n                            else\n                                color = palettes[(bg0 & 0x0FF) != 0x000 ? bg0 : bg1];\n\n                            break;\n                        case 0x08 | 0x03:\n                            if (bg0 < 0x100 && bg0 != 0x000)\n                                color = palettes[bg0];\n                            else\n                                color = palettes[(bg1 & 0x0FF) != 0x000 ? bg1 : bg0];\n                            break;\n                        case 0x00 | 0x03:\n                        case 0x0C | 0x03:\n                            color = palettes[(bg0 & 0x0FF) != 0x000 ? bg0 : bg1];\n                            break;\n                        case 0x00 | 0x01:\n                        case 0x04 | 0x01:\n                        case 0x08 | 0x01:\n                        case 0x0C | 0x01:\n                            color = palettes[bg0];\n                            break;\n                        case 0x00 | 0x02:\n                        case 0x04 | 0x02:\n                        case 0x08 | 0x02:\n                        case 0x0C | 0x02:\n                            color = palettes[bg1];\n                            break;\n                        default:\n                            color = black;\n                            break;\n                    }\n                    data[imageIndex] = color.r;\n                    data[imageIndex + 1] = color.g;\n                    data[imageIndex + 2] = color.b;\n                }\n            } else {\n                for (let bgx = 0; bgx < sw; bgx++, imageIndex += 4) {\n                    let color = palettes[bgl0[bgx]];\n                    data[imageIndex] = color.r;\n                    data[imageIndex + 1] = color.g;\n                    data[imageIndex + 2] = color.b;\n                }\n            }\n        }\n    }\n\n\n    GetScreenSize(vdcno) {\n        let vdcc = this.VDC[vdcno];\n        let r = vdcc.VDCRegister;\n\n        vdcc.VScreenWidth = this.VScreenWidthArray[r[0x09] & 0x0030];\n\n        vdcc.VScreenHeight = (r[0x09] & 0x0040) == 0x0000 ? 32 : 64;\n        vdcc.VScreenHeightMask = vdcc.VScreenHeight * 8 - 1;\n        vdcc.ScreenWidth = ((r[0x0B] & 0x007F) + 1) * 8;\n\n        if (vdcc.ScreenWidth > this.ScreenWidthMAX)\n            vdcc.ScreenWidth = this.ScreenWidthMAX;\n\n        vdcc.HDS = (r[0x0A] & 0x7F00) >> 8;\n        vdcc.HSW = r[0x0A] & 0x001F;\n\n        vdcc.HDE = (r[0x0B] & 0x7F00) >> 8;\n        vdcc.HDW = r[0x0B] & 0x007F;\n\n        vdcc.VDS = ((r[0x0C] & 0xFF00) >> 8);\n        vdcc.VSW = r[0x0C] & 0x001F;\n\n        vdcc.VDW = r[0x0D] & 0x01FF;\n\n        vdcc.VCR = r[0x0E] & 0x00FF;\n\n        vdcc.ScreenSize = this.ScreenSize[this.VCEBaseClock];\n        if (this.MainCanvas.width != vdcc.ScreenSize) {\n            //this.MainCanvas.style.width = (this.PutScreenSize[this.VCEBaseClock] * 2) + 'px';\n            this.MainCanvas.width = this.PutScreenSize[this.VCEBaseClock];\n        }\n\n        vdcc.DrawLineWidth = (vdcc.HDS + vdcc.HSW + vdcc.HDE + vdcc.HDW + 1) << 3;\n        if (vdcc.DrawLineWidth <= this.ScreenSize[this.BaseClock5])\n            vdcc.DrawLineWidth = this.ScreenSize[this.BaseClock5];\n        else if (vdcc.DrawLineWidth <= this.ScreenSize[this.BaseClock7])\n            vdcc.DrawLineWidth = this.ScreenSize[this.BaseClock7];\n        else vdcc.DrawLineWidth = this.ScreenSize[this.BaseClock10];\n\n        vdcc.VDCBurst = (r[0x05] & 0x00C0) == 0x0000 ? true : false;\n    }\n\n\n    VDCInit() {\n        this.VDCPutLineProgressClock = 0;\n        this.VDCPutLine = 0;\n        this.DrawFlag = false;\n\n        for (let vdcno = 0; vdcno < 2; vdcno++) {\n            this.VDC[vdcno] = {\n                VDCRegister: new Uint16Array(20).fill(0x0000),\n                VRAM: new Uint16Array(0x10000).fill(0x0000),\n                SATB: new Uint16Array(256).fill(0x0000),\n                VDCBurst: false,\n                SpriteLimit: false,\n\n                SPLine: new Array(this.ScreenWidthMAX),\n                BGLine: new Array(this.ScreenWidthMAX).fill(0x00),\n\n                VDCStatus: 0x00,\n                VDCRegisterSelect: 0x00,\n                WriteVRAMData: 0x0000,\n\n                VRAMtoSATBStartFlag: false,\n                VRAMtoSATBCount: 0,\n                VRAMtoVRAMCount: 0,\n\n                RasterCount: 64,\n                VDCProgressClock: 0,\n                DrawBGYLine: 0,\n                DrawBGLine: 0,\n\n                VScreenWidth: 0,\n                VScreenHeight: 0,\n                VScreenHeightMask: 0,\n                ScreenWidth: 0,\n                ScreenSize: 0,\n                DrawLineWidth: 0,\n                DrawBGIndex: 0,\n\n                HDS: 0,\n                HSW: 0,\n                HDE: 0,\n                HDW: 0,\n                VDS: 0,\n                VSW: 0,\n                VDW: 0,\n                VCR: 0\n            };\n\n            for (let i = 0; i < this.VDC[vdcno].SPLine.length; i++)\n                this.VDC[vdcno].SPLine[i] = { data: 0x00, no: 255, priority: 0x00 };\n\n            this.VDC[vdcno].VDCRegister[0x09] = 0x0010;\n            this.VDC[vdcno].VDCRegister[0x0A] = 0x0202;\n            this.VDC[vdcno].VDCRegister[0x0B] = 0x031F;\n            this.VDC[vdcno].VDCRegister[0x0C] = 0x0F02;\n            this.VDC[vdcno].VDCRegister[0x0D] = 0x00EF;\n            this.VDC[vdcno].VDCRegister[0x0E] = 0x0003;\n        }\n\n        this.GetScreenSize(0);\n        this.GetScreenSize(1);\n    }\n\n\n    SetVDCRegister(data, vdcno) {\n        this.VDC[vdcno].VDCRegisterSelect = data & 0x1F;\n    }\n\n\n    SetVDCLow(data, vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        if (vdcc.VDCRegisterSelect == 0x02)\n            vdcc.WriteVRAMData = data;\n        else\n            vdcc.VDCRegister[vdcc.VDCRegisterSelect] = (vdcc.VDCRegister[vdcc.VDCRegisterSelect] & 0xFF00) | data;\n\n        if (vdcc.VDCRegisterSelect == 0x01) {\n            vdcc.VDCRegister[0x02] = vdcc.VRAM[vdcc.VDCRegister[0x01]];\n            return;\n        }\n\n        if (vdcc.VDCRegisterSelect == 0x08) {\n            vdcc.DrawBGLine = vdcc.VDCRegister[0x08];\n            return;\n        }\n\n        if (vdcc.VDCRegisterSelect == 0x0F)\n            vdcc.VRAMtoSATBStartFlag = (vdcc.VDCRegister[0x0F] & 0x10) == 0x10;\n    }\n\n\n    SetVDCHigh(data, vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        if (vdcc.VDCRegisterSelect == 0x02) {\n            vdcc.VRAM[vdcc.VDCRegister[0x00]] = vdcc.WriteVRAMData | (data << 8);\n            vdcc.VDCRegister[0x00] = (vdcc.VDCRegister[0x00] + this.GetVRAMIncrement(vdcno)) & 0xFFFF;\n            return;\n        }\n\n        vdcc.VDCRegister[vdcc.VDCRegisterSelect] = (vdcc.VDCRegister[vdcc.VDCRegisterSelect] & 0x00FF) | (data << 8);\n\n        if (vdcc.VDCRegisterSelect == 0x01) {\n            vdcc.VDCRegister[0x02] = vdcc.VRAM[vdcc.VDCRegister[0x01]];\n            vdcc.VDCRegister[0x03] = vdcc.VDCRegister[0x02];\n            vdcc.VDCRegister[0x01] = (vdcc.VDCRegister[0x01] + this.GetVRAMIncrement(vdcno)) & 0xFFFF;\n            return;\n        }\n\n        if (vdcc.VDCRegisterSelect == 0x08) {\n            vdcc.DrawBGLine = vdcc.VDCRegister[0x08];\n            return;\n        }\n\n        if (vdcc.VDCRegisterSelect == 0x12) {//VRAMtoVRAM\n            let si = (vdcc.VDCRegister[0x0F] & 0x0004) == 0x0000 ? 1 : -1;\n            let di = (vdcc.VDCRegister[0x0F] & 0x0008) == 0x0000 ? 1 : -1;\n\n            let s = vdcc.VDCRegister[0x10];\n            let d = vdcc.VDCRegister[0x11];\n            let l = vdcc.VDCRegister[0x12] + 1;\n\n            vdcc.VRAMtoVRAMCount = l * this.VCEBaseClock;\n            vdcc.VDCStatus |= 0x40;\n\n            let vram = vdcc.VRAM;\n            for (; l > 0; l--) {\n                vram[d] = vram[s];\n                s = (s + si) & 0xFFFF;\n                d = (d + di) & 0xFFFF;\n            }\n            return;\n        }\n\n        if (vdcc.VDCRegisterSelect == 0x13)//VRAMtoSATB\n            vdcc.VRAMtoSATBStartFlag = true;\n    }\n\n\n    GetVRAMIncrement(vdcno) {\n        switch (this.VDC[vdcno].VDCRegister[0x05] & 0x1800) {\n            case 0x0000:\n                return 1;\n            case 0x0800:\n                return 32;\n            case 0x1000:\n                return 64;\n            case 0x1800:\n                return 128;\n        }\n    }\n\n\n    GetVDCStatus(vdcno) {\n        let tmp = this.VDC[vdcno].VDCStatus;\n        this.VDC[vdcno].VDCStatus &= 0x40;\n        return tmp;\n    }\n\n\n    GetVDCLow(vdcno) {\n        return this.VDC[vdcno].VDCRegister[this.VDC[vdcno].VDCRegisterSelect] & 0x00FF;\n    }\n\n\n    GetVDCHigh(vdcno) {\n        let vdcc = this.VDC[vdcno];\n\n        if (vdcc.VDCRegisterSelect == 0x02 || vdcc.VDCRegisterSelect == 0x03) {\n            let tmp = (vdcc.VDCRegister[0x02] & 0xFF00) >> 8;\n            vdcc.VDCRegister[0x02] = vdcc.VRAM[vdcc.VDCRegister[0x01]];\n            vdcc.VDCRegister[0x03] = vdcc.VDCRegister[0x02];\n            vdcc.VDCRegister[0x01] = (vdcc.VDCRegister[0x01] + this.GetVRAMIncrement(vdcno)) & 0xFFFF;\n            return tmp;\n        }\n\n        return (vdcc.VDCRegister[vdcc.VDCRegisterSelect] & 0xFF00) >> 8;\n    }\n\n\n    /* *************** */\n    /* **** Sound **** */\n    /* *************** */\n    SoundConstruct() {\n        this.WaveDataArray = [];\n        this.WaveClockCounter = 0;\n        this.WaveVolume = 1.0;\n\n        this.WebAudioCtx = null;\n        this.WebAudioJsNode = null;\n        this.WebAudioGainNode = null;\n        this.WebAudioBufferSize = 2048;\n\n        this.PSGClock = 3579545;\n    }\n\n\n    WebAudioFunction(e) {\n        let output = [];\n        let data = [];\n\n        for (let i = 0; i < 2; i++) {\n            output[i] = e.outputBuffer.getChannelData(i);\n            data[i] = new Float32Array(this.WebAudioBufferSize);\n            if (this.WaveDataArray[i].length < this.WebAudioBufferSize) {\n                data[i].fill(0.0);\n            } else {\n                for (let j = 0; j < data[i].length; j++)\n                    data[i][j] = this.WaveDataArray[i].shift() / ((32 * 16 * 32) * 8 * 16);\n                if (this.WaveDataArray[i].length > this.WebAudioBufferSize * 2)\n                    this.WaveDataArray[i] = this.WaveDataArray[i].slice(this.WebAudioBufferSize);\n            }\n            output[i].set(data[i]);\n        }\n    }\n\n    SoundInit() {\n        this.WaveClockCounter = 0;\n        this.WaveDataArray = [];\n        this.WaveDataArray[0] = [];\n        this.WaveDataArray[1] = [];\n\n        if (typeof AudioContext !== \"undefined\" && this.WebAudioCtx == null) {\n            this.CreateAudioContext();\n        }\n    }\n\n    CreateAudioContext() {\n        this.WebAudioCtx = new window.AudioContext();\n        this.WebAudioJsNode = this.WebAudioCtx.createScriptProcessor(this.WebAudioBufferSize, 0, 2);\n        this.WebAudioJsNode.onaudioprocess = this.WebAudioFunction.bind(this);\n        this.WebAudioGainNode = this.WebAudioCtx.createGain();\n        this.WebAudioJsNode.connect(this.WebAudioGainNode);\n        this.WebAudioGainNode.connect(this.WebAudioCtx.destination);\n    }\n\n    SoundSet() {\n        let waveoutleft;\n        let waveoutright;\n        let ch;\n\n        let i;\n        let j;\n        let out;\n\n        this.WaveClockCounter += this.WebAudioCtx.sampleRate;\n        if (this.WaveClockCounter >= this.PSGClock) {\n            this.WaveClockCounter -= this.PSGClock;\n\n            waveoutleft = 0;\n            waveoutright = 0;\n            for (j = 0; j < 6; j++) {\n                if (j != 1 || !this.WaveLfoOn) {\n                    ch = this.PSGChannel[j];\n\n                    if (j < 4 || !ch.noiseon)\n                        out = ch.keyon ? (ch.dda ? ch.R[6] & 0x1F : ch.wave[ch.index]) : 0;\n                    else\n                        out = (ch.noise & 0x0001) == 0x0001 ? 0x0F : 0;\n\n                    waveoutleft += out * ch.leftvol;\n                    waveoutright += out * ch.rightvol;\n                }\n            }\n            this.WaveDataArray[0].push(waveoutleft * this.WaveVolumeLeft);\n            this.WaveDataArray[1].push(waveoutright * this.WaveVolumeRight);\n            this.WebAudioGainNode.gain.value = this.WaveVolume;\n        }\n    }\n\n\n    /* ************* */\n    /* **** PSG **** */\n    /* ************* */\n    PSGConstruct() {\n        this.PSGChannel = new Array(6);\n        this.PSGBaseClock = this.BaseClock3;\n\n        this.PSGProgressClock = 0;\n\n        this.WaveVolumeLeft = 0;\n        this.WaveVolumeRight = 0;\n\n        this.WaveLfoOn = false;\n        this.WaveLfoControl = 0;\n        this.WaveLfoFreqency = 0;\n    }\n\n\n    PSGInit() {\n        this.SoundInit();\n\n        for (let i = 0; i < this.PSGChannel.length; i++)\n            this.PSGChannel[i] = {\n                R: new Array(10).fill(0),\n                keyon: false,\n                dda: false,\n                freq: 0,\n                count: 0,\n                vol: 0,\n                leftvol: 0,\n                rightvol: 0,\n                noiseon: false,\n                noisefreq: 0,\n                noise: 0x8000,\n                noisestate: 0,\n                index: 0,\n                wave: new Uint8Array(32)\n            };\n    }\n\n\n    PSGRun() {\n        if (this.WebAudioCtx == null)\n            return;\n\n        let ch;\n        let i;\n        let j;\n        let ch0;\n        let ch1;\n        let freqtmp;\n\n        this.PSGProgressClock += this.ProgressClock;\n        i = (this.PSGProgressClock / this.PSGBaseClock) | 0;\n        this.PSGProgressClock %= this.PSGBaseClock;\n\n        while (i > 0) {\n            i--;\n            j = 0;\n\n            if (this.WaveLfoOn) {\n                ch0 = this.PSGChannel[0];\n                ch1 = this.PSGChannel[1];\n                if (ch0.keyon) {\n                    if (ch0.count == 0) {\n                        ch0.index = (ch0.index + 1) & 0x1F;\n                        freqtmp = 0;\n                        if (this.WaveLfoControl != 0x00) {\n                            freqtmp = ch1.wave[ch1.index];\n                            freqtmp = freqtmp > 0x0F ? freqtmp - 0x20 : freqtmp & 0x0F;\n                            freqtmp <<= 4 * (this.WaveLfoControl - 1);\n                        }\n                        freqtmp = ch0.freq + freqtmp;\n                        if (freqtmp < 0)\n                            freqtmp = 0;\n                        ch0.count = freqtmp;\n                    } else\n                        ch0.count--;\n\n                    if (ch1.count == 0) {\n                        ch1.index = (ch1.index + 1) & 0x1F;\n                        ch1.count = ch1.freq * this.WaveLfoFreqency;\n                    } else\n                        ch1.count--;\n                }\n                j = 2;\n            }\n\n            for (; j < 6; j++) {\n                ch = this.PSGChannel[j];\n                if (j < 4 || !ch.noiseon) {\n                    if (ch.keyon && !ch.dda) {\n                        if (ch.count == 0) {\n                            ch.index = (ch.index + 1) & 0x1F;\n                            ch.count = ch.freq;\n                        } else\n                            ch.count--;\n                    }\n                } else {\n                    if (ch.keyon && !ch.dda) {\n                        if (ch.count == 0) {\n                            ch.index = (ch.index + 1) & 0x1F;\n                            if (ch.index == 0)\n                                ch.noise = (ch.noise >> 1) | (((ch.noise << 12) ^ (ch.noise << 15)) & 0x8000);\n                            ch.count = ch.noisefreq;\n                        } else\n                            ch.count--;\n                    }\n                }\n            }\n            this.SoundSet();\n        }\n    }\n\n\n    SetPSG(r, data) {\n        if (r == 0) {\n            this.PSGChannel[0].R[0] = data & 0x07;\n            return;\n        }\n\n        if (this.PSGChannel[0].R[0] > 5)\n            return;\n\n        let ch = this.PSGChannel[this.PSGChannel[0].R[0]];\n        ch.R[r] = data;\n\n        switch (r) {\n            case 1:\n                this.PSGChannel[0].R[1] = data;\n                this.WaveVolumeLeft = (data & 0xF0) >> 4;\n                this.WaveVolumeRight = data & 0x0F;\n                return;\n\n            case 2:\n            case 3:\n                ch.freq = ((ch.R[3] << 8) | ch.R[2]) & 0x0FFF;\n                return;\n\n            case 4:\n                ch.keyon = (data & 0x80) == 0x80 ? true : false;\n                ch.dda = (data & 0x40) == 0x40 ? true : false;\n                if ((data & 0x40) == 0x40)\n                    ch.index = 0;\n                ch.vol = data & 0x1F;\n            case 5:\n                let vol = ch.R[4] & 0x1F;\n                ch.leftvol = ((ch.R[5] & 0xF0) >> 4) * vol;\n                ch.rightvol = (ch.R[5] & 0x0F) * vol;\n                return;\n\n            case 6:\n                if (!ch.dda) {\n                    ch.wave[ch.index] = data & 0x1F;\n                    ch.index = (ch.index + 1) & 0x1F;\n                }\n                return;\n\n            case 7:\n                ch.noiseon = (data & 0x80) == 0x80 ? true : false;\n                ch.noisefreq = (data & 0x1F) ^ 0x1F;\n                return;\n\n            case 8:\n                this.PSGChannel[0].R[8] = data;\n                this.WaveLfoFreqency = data;\n                return;\n\n            case 9:\n                this.PSGChannel[0].R[9] = data;\n                this.WaveLfoOn = (data & 0x80) == 0x80 ? true : false;\n                this.WaveLfoControl = data & 0x03;\n                return;\n        }\n    }\n\n\n    GetPSG(r) {\n        if (r > 9)\n            return 0xFF;\n        if (r == 0 || r == 1 || r == 8 || r == 9)\n            return this.PSGChannel[0].R[r];\n        if (this.PSGChannel[0].R[0] > 5)\n            return 0xFF;\n        return this.PSGChannel[this.PSGChannel[0].R[0]].R[r];\n    }\n\n\n    /* *************** */\n    /* **** TIMER **** */\n    /* *************** */\n    TimerConstruct() {\n        this.TimerBaseClock = this.BaseClock7;\n        this.TimerReload = 0;\n        this.TimerFlag = false;\n        this.TimerCounter = 0;\n        this.TimerPrescaler = 0;\n        this.INTTIQ = 0;\n    }\n\n\n    TimerInit() {\n        this.TimerReload = 0x00;\n        this.TimerFlag = false;\n        this.TimerCounter = 0x00;\n        this.TimerPrescaler = 0;\n        this.INTTIQ = 0x00;\n    }\n\n\n    ReadTimerCounter() {\n        return this.TimerCounter;\n    }\n\n\n    TimerAcknowledge() {\n        this.INTTIQ = 0x00;\n    }\n\n\n    WirteTimerReload(data) {\n        this.TimerReload = data & 0x7F;\n    }\n\n\n    WirteTimerControl(data) {\n        if (!this.TimerFlag && (data & 0x01) == 0x01) {\n            this.TimerCounter = this.TimerReload;\n            this.TimerPrescaler = 0;\n        }\n\n        this.TimerFlag = (data & 0x01) == 0x01 ? true : false;\n    }\n\n\n    TimerRun() {\n        if (this.TimerFlag) {\n            this.TimerPrescaler += this.ProgressClock;\n            while (this.TimerPrescaler >= (1024 * this.TimerBaseClock)) {\n                this.TimerPrescaler -= 1024 * this.TimerBaseClock;\n                this.TimerCounter--;\n                if (this.TimerCounter < 0) {\n                    this.TimerCounter = this.TimerReload;\n                    this.INTTIQ = this.TIQFlag;\n                }\n            }\n        }\n    }\n\n\n    /* ****************** */\n    /* **** Joystick **** */\n    /* ****************** */\n    JoystickConstruct() {\n        this.JoystickSEL = 0;\n        this.JoystickCLR = 0;\n        this.KeyUpFunction = null;\n        this.KeyDownFunction = null;\n\n        this.Keybord = new Array(5).fill([]);\n        this.Keybord = this.Keybord.map((d) => { return new Array(4); });\n\n        this.GamePad = new Array(5).fill([]);\n        this.GamePad = this.Keybord.map((d) => { return new Array(4); });\n\n        this.GamePadSelect = 0x00;\n        this.GamePadButtonSelect = 0x00;\n        this.GamePadBuffer = 0x00;\n\n        this.GamePadData = [];\n        this.GamePadData[\"STANDARD PAD\"] = [\n            [[{ type: \"B\", index: 1 }],// SHOT1\n            [{ type: \"B\", index: 0 }],// SHOT2\n            [{ type: \"B\", index: 8 }],// SELECT\n            [{ type: \"B\", index: 9 }, { type: \"B\", index: 2 }],// RUN\n            [{ type: \"B\", index: 12 }],// UP\n            [{ type: \"B\", index: 13 }],// DOWN\n            [{ type: \"B\", index: 14 }],// LEFT\n            [{ type: \"B\", index: 15 }]],// RIGHT\n\n            [[{ type: \"B\", index: 1 }],// SHOT1\n            [{ type: \"B\", index: 0 }],// SHOT2\n            [{ type: \"B\", index: 8 }],// SELECT\n            [{ type: \"B\", index: 9 }],// RUN\n            [{ type: \"B\", index: 12 }],// UP\n            [{ type: \"B\", index: 13 }],// DOWN\n            [{ type: \"B\", index: 14 }],// LEFT\n            [{ type: \"B\", index: 15 }],// RIGHT\n            [{ type: \"B\", index: 7 }],// SHOT3\n            [{ type: \"B\", index: 5 }],// SHOT4\n            [{ type: \"B\", index: 2 }],// SHOT5\n            [{ type: \"B\", index: 3 }]]];// SHOT6\n\n        this.GamePadData[\"HORI PAD 3 TURBO (Vendor: 0f0d Product: 0009)\"] = [// Chrome\n            [[{ type: \"B\", index: 2 }],// SHOT1\n            [{ type: \"B\", index: 1 }],// SHOT2\n            [{ type: \"B\", index: 8 }],// SELECT\n            [{ type: \"B\", index: 9 }, { type: \"B\", index: 0 }],// RUN\n            [{ type: \"P\", index: 9 }],// UP (POV)\n            [{ type: \"N\", index: 0 }],// DOWN (POV)\n            [{ type: \"N\", index: 0 }],// LEFT (POV)\n            [{ type: \"N\", index: 0 }]],// RIGHT (POV)\n\n            [[{ type: \"B\", index: 2 }],// SHOT1\n            [{ type: \"B\", index: 1 }],// SHOT2\n            [{ type: \"B\", index: 8 }],// SELECT\n            [{ type: \"B\", index: 9 }],// RUN\n            [{ type: \"P\", index: 9 }],// UP (POV)\n            [{ type: \"N\", index: 0 }],// DOWN (POV)\n            [{ type: \"N\", index: 0 }],// LEFT (POV)\n            [{ type: \"N\", index: 0 }],// RIGHT (POV)\n            [{ type: \"B\", index: 7 }],// SHOT3\n            [{ type: \"B\", index: 5 }],// SHOT4\n            [{ type: \"B\", index: 0 }],// SHOT5\n            [{ type: \"B\", index: 3 }]]];// SHOT6\n\n        this.GamePadData[\"0f0d-0009-HORI PAD 3 TURBO\"] = this.GamePadData[\"HORI PAD 3 TURBO (Vendor: 0f0d Product: 0009)\"];// Firefox\n        this.GamePadData[\"UNKNOWN PAD\"] = this.GamePadData[\"HORI PAD 3 TURBO (Vendor: 0f0d Product: 0009)\"];\n\n        this.GamePadKeyData = [{ index: 0, data: 0x01 }, { index: 0, data: 0x02 },\n        { index: 0, data: 0x04 }, { index: 0, data: 0x08 },\n        { index: 1, data: 0x01 }, { index: 1, data: 0x04 },\n        { index: 1, data: 0x08 }, { index: 1, data: 0x02 },\n        { index: 2, data: 0x01 }, { index: 2, data: 0x02 },\n        { index: 2, data: 0x04 }, { index: 2, data: 0x08 }];\n\n        this.GamePadPovData = [0x01, 0x01 | 0x02, 0x02, 0x02 | 0x04, 0x04, 0x04 | 0x08, 0x08, 0x01 | 0x08];\n    }\n\n\n    JoystickInit() {\n        this.JoystickSEL = 0;\n        this.JoystickCLR = 0;\n\n        for (let i = 0; i < this.Keybord.length; i++) {\n            this.Keybord[i][0] = 0xBF;\n            this.Keybord[i][1] = 0xBF;\n            this.Keybord[i][2] = 0xBF;\n            this.Keybord[i][3] = 0xB0;\n        }\n\n        this.GamePadSelect = 0;\n        this.GamePadButtonSelect = 0x00;\n        this.GamePadBuffer = 0x00;\n    }\n\n\n    SetJoystick(data) {\n        let sel = data & 0x01;\n        let clr = (data & 0x02) >> 1;\n\n        if ((this.JoystickSEL == 1 && this.JoystickCLR == 0) && (sel == 1 && clr == 1)) {\n            this.JoystickSEL = 0;\n            this.JoystickCLR = 0;\n            this.GamePadSelect = 0;\n            if (this.GamePadButton6)\n                this.GamePadButtonSelect = this.GamePadButtonSelect ^ 0x02;\n            this.GamePadBuffer = 0xB0 | this.CountryType;\n            return;\n        }\n\n        if ((this.JoystickSEL == 0 && this.JoystickCLR == 0) && (sel == 1 && clr == 0))\n            this.GamePadSelect++;\n\n        this.JoystickSEL = sel;\n        this.JoystickCLR = clr;\n\n        let no = this.MultiTap ? this.GamePadSelect - 1 : 0;\n        if (no < 5) {\n            let tmp = this.GamePadButtonSelect | this.JoystickSEL;\n            this.GamePadBuffer = (this.Keybord[no][tmp] & this.GamePad[no][tmp]) | this.CountryType;\n        } else\n            this.GamePadBuffer = 0xB0 | this.CountryType;\n    }\n\n\n    GetJoystick() {\n        return this.GamePadBuffer;\n    }\n\n\n    UnsetButtonRUN(no) {\n        this.Keybord[no][0] |= 0x08;\n    }\n\n\n    UnsetButtonSELECT(no) {\n        this.Keybord[no][0] |= 0x04;\n    }\n\n\n    UnsetButtonSHOT2(no) {\n        this.Keybord[no][0] |= 0x02;\n    }\n\n\n    UnsetButtonSHOT1(no) {\n        this.Keybord[no][0] |= 0x01;\n    }\n\n\n    UnsetButtonLEFT(no) {\n        this.Keybord[no][1] |= 0x08;\n    }\n\n\n    UnsetButtonDOWN(no) {\n        this.Keybord[no][1] |= 0x04;\n    }\n\n\n    UnsetButtonRIGHT(no) {\n        this.Keybord[no][1] |= 0x02;\n    }\n\n\n    UnsetButtonUP(no) {\n        this.Keybord[no][1] |= 0x01;\n    }\n\n\n    UnsetButtonSHOT6(no) {\n        this.Keybord[no][2] |= 0x08;\n    }\n\n\n    UnsetButtonSHOT5(no) {\n        this.Keybord[no][2] |= 0x04;\n    }\n\n\n    UnsetButtonSHOT4(no) {\n        this.Keybord[no][2] |= 0x02;\n    }\n\n\n    UnsetButtonSHOT3(no) {\n        this.Keybord[no][2] |= 0x01;\n    }\n\n\n    SetButtonRUN(no) {\n        this.Keybord[no][0] &= ~0x08;\n    }\n\n\n    SetButtonSELECT(no) {\n        this.Keybord[no][0] &= ~0x04;\n    }\n\n\n    SetButtonSHOT2(no) {\n        this.Keybord[no][0] &= ~0x02;\n    }\n\n\n    SetButtonSHOT1(no) {\n        this.Keybord[no][0] &= ~0x01;\n    }\n\n\n    SetButtonLEFT(no) {\n        this.Keybord[no][1] &= ~0x08;\n    }\n\n\n    SetButtonDOWN(no) {\n        this.Keybord[no][1] &= ~0x04;\n    }\n\n\n    SetButtonRIGHT(no) {\n        this.Keybord[no][1] &= ~0x02;\n    }\n\n\n    SetButtonUP(no) {\n        this.Keybord[no][1] &= ~0x01;\n    }\n\n\n    SetButtonSHOT6(no) {\n        this.Keybord[no][2] &= ~0x08;\n    }\n\n\n    SetButtonSHOT5(no) {\n        this.Keybord[no][2] &= ~0x04;\n    }\n\n\n    SetButtonSHOT4(no) {\n        this.Keybord[no][2] &= ~0x02;\n    }\n\n\n    SetButtonSHOT3(no) {\n        this.Keybord[no][2] &= ~0x01;\n    }\n\n\n    CheckKeyUpFunction(evt) {\n        switch (evt.keyCode) {\n            case Keys['START'].c:// RUN 'S'\n                this.UnsetButtonRUN(0);\n                break;\n            case Keys['SELECT'].c:// SELECT 'A'\n                this.UnsetButtonSELECT(0);\n                break;\n            case Keys['A'].c:// SHOT2 'Z'\n            case Keys['GP_A'].c:// SHOT2 'Z'\n                this.UnsetButtonSHOT2(0);\n                break;\n            case Keys['B'].c:// SHOT1 'X'\n            case Keys['GP_B'].c:// SHOT1 'X'\n                this.UnsetButtonSHOT1(0);\n                break;\n\n            case 86:// SHOT2 'V'\n                this.UnsetButtonSHOT2(0);\n                break;\n            case 66:// SHOT1 'B'\n                this.UnsetButtonSHOT1(0);\n                break;\n\n            case 37:// LEFT\n                this.UnsetButtonLEFT(0);\n                break;\n            case 39:// RIGHT\n                this.UnsetButtonRIGHT(0);\n                break;\n            case 40:// DOWN\n                this.UnsetButtonDOWN(0);\n                break;\n            case 38:// UP\n                this.UnsetButtonUP(0);\n                break;\n\n            case 71:// SHOT6 'G'\n                this.UnsetButtonSHOT6(0);\n                break;\n            case 70:// SHOT5 'F'\n                this.UnsetButtonSHOT5(0);\n                break;\n            case 68:// SHOT4 'D'\n                this.UnsetButtonSHOT4(0);\n                break;\n            case 67:// SHOT3 'C'\n                this.UnsetButtonSHOT3(0);\n                break;\n        }\n        //evt.preventDefault();\n    }\n\n\n    CheckKeyDownFunction(evt) {\n        switch (evt.keyCode) {\n            case Keys['START'].c:// RUN 'S'\n                this.SetButtonRUN(0);\n                break;\n            case Keys['SELECT'].c:// SELECT 'A'\n                this.SetButtonSELECT(0);\n                break;\n            case Keys['A'].c:// SHOT2 'Z'\n            case Keys['GP_A'].c:// SHOT2 'Z'\n                this.SetButtonSHOT2(0);\n                break;\n            case Keys['B'].c:// SHOT2 'Z'\n            case Keys['GP_B'].c:// SHOT2 'Z'\n                this.SetButtonSHOT1(0);\n                break;\n\n            case 86:// SHOT2 'V'\n                this.SetButtonSHOT2(0);\n                break;\n            case 66:// SHOT1 'B'\n                this.SetButtonSHOT1(0);\n                break;\n\n            case 37:// LEFT\n                this.SetButtonLEFT(0);\n                break;\n            case 39:// RIGHT\n                this.SetButtonRIGHT(0);\n                break;\n            case 40:// DOWN\n                this.SetButtonDOWN(0);\n                break;\n            case 38:// UP\n                this.SetButtonUP(0);\n                break;\n\n            case 71:// SHOT6 'G'\n                this.SetButtonSHOT6(0);\n                break;\n            case 70:// SHOT5 'F'\n                this.SetButtonSHOT5(0);\n                break;\n            case 68:// SHOT4 'D'\n                this.SetButtonSHOT4(0);\n                break;\n            case 67:// SHOT3 'C'\n                this.SetButtonSHOT3(0);\n                break;\n        }\n        //evt.preventDefault();\n    }\n\n\n    JoystickEventInit() {\n        this.KeyUpFunction = this.CheckKeyUpFunction.bind(this);\n        this.KeyDownFunction = this.CheckKeyDownFunction.bind(this);\n        this.MainCanvas.addEventListener(\"keyup\", this.KeyUpFunction, true);\n        this.MainCanvas.addEventListener(\"keydown\", this.KeyDownFunction, true);\n    }\n\n\n    JoystickEventRelease() {\n        this.MainCanvas.removeEventListener(\"keyup\", this.KeyUpFunction, true);\n        this.MainCanvas.removeEventListener(\"keydown\", this.KeyDownFunction, true);\n    }\n\n    CheckGamePad() {\n        for (let i = 0; i < this.GamePad.length; i++) {\n            this.GamePad[i][0] = 0xBF;\n            this.GamePad[i][1] = 0xBF;\n            this.GamePad[i][2] = 0xBF;\n            this.GamePad[i][3] = 0xB0;\n        }\n\n        if (typeof navigator.getGamepads === \"undefined\")\n            return;\n\n        let pads = navigator.getGamepads();\n        for (let i = 0; i < 5; i++) {\n            let pad = pads[i];\n            if (typeof pad !== \"undefined\" && pad !== null) {\n\n                let paddata;\n                if (pad.mapping === \"standard\")\n                    paddata = this.GamePadData[\"STANDARD PAD\"];\n                else {\n                    paddata = this.GamePadData[pad.id];\n                    if (typeof paddata === \"undefined\")\n                        paddata = this.GamePadData[\"UNKNOWN PAD\"];\n                }\n                paddata = this.GamePadButton6 ? paddata[1] : paddata[0];\n\n                let tmp = 0;\n                for (const val0 of paddata) {\n                    for (const val1 of val0) {\n                        switch (val1.type) {\n                            case \"B\":\n                                if (pad.buttons[val1.index].pressed)\n                                    this.GamePad[i][this.GamePadKeyData[tmp].index] &= ~this.GamePadKeyData[tmp].data;\n                                break;\n                            case \"A-\":\n                                if (pad.axes[val1.index] < -0.5)\n                                    this.GamePad[i][this.GamePadKeyData[tmp].index] &= ~this.GamePadKeyData[tmp].data;\n                                break;\n                            case \"A+\":\n                                if (pad.axes[val1.index] > 0.5)\n                                    this.GamePad[i][this.GamePadKeyData[tmp].index] &= ~this.GamePadKeyData[tmp].data;\n                                break;\n                            case \"AB\":\n                                if (pad.axes[val1.index] > -0.75)\n                                    this.GamePad[i][this.GamePadKeyData[tmp].index] &= ~this.GamePadKeyData[tmp].data;\n                                break;\n                            case \"P\":\n                                let povtmp = ((pad.axes[val1.index] + 1) * 7 / 2 + 0.5) | 0;\n                                this.GamePad[i][1] &= ~(povtmp <= 7 ? this.GamePadPovData[povtmp] : 0x00);\n                                break;\n                        }\n                    }\n                    tmp++;\n                }\n            }\n        }\n    }\n}\n"],
  "mappings": "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AAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAElD,KAAK,QAAU,CACX,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EA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",
  "names": ["PCE_PRESETS", "PCEnginePlatform", "mainElement", "PCE", "RasterVideo", "title", "rom", "fn", "getToolForFilename_6502", "addr", "value", "PLATFORMS", "core", "address", "data", "canvas", "i", "d", "tmp", "bit", "op", "neg", "data0", "data1", "carry", "status", "adr", "address0", "address1", "tmp0", "tmp1", "res", "color", "mono", "no", "b", "vdcno", "vdcc", "sp", "spi", "dotcount", "line", "vram", "satb", "revbit16", "s", "y", "attribute", "height", "x", "width", "spy", "index", "data2", "data3", "palette", "priority", "j", "spx", "dot", "bg", "sw", "leftblank", "WidthMask", "index_x", "index_y", "bgx", "revbit", "spbgx", "vline", "palettes", "imageIndex", "black", "bgl0", "window1", "window2", "bgl1", "wflag", "bg0", "bg1", "r", "si", "di", "l", "e", "output", "waveoutleft", "waveoutright", "ch", "out", "ch0", "ch1", "freqtmp", "vol", "sel", "clr", "evt", "Keys", "pads", "pad", "paddata", "val0", "val1", "povtmp"]
}
